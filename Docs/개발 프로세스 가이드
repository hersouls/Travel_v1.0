# Moonwave ì „ì²´ ê°œë°œ í”„ë¡œì„¸ìŠ¤ ê°€ì´ë“œ

> "ê°€ì§œ íë¦„ì´ ì•„ë‹Œ, ì‹¤ì œ íë¦„ìœ¼ë¡œ ì„¤ê³„í•œë‹¤" - GitHub ì§ì ‘ ì—°ë™ + Supabase ì‹¤ì‹œê°„ DB ê¸°ë°˜ ê°œë°œ í”„ë¡œì„¸ìŠ¤

## ğŸš€ ê°œë°œ í”„ë¡œì„¸ìŠ¤ ê°œìš”

### Phase 1: í”„ë¡œì íŠ¸ ì´ˆê¸°í™” (Foundation)
**ëª©í‘œ**: GitHub Repository + Supabase í”„ë¡œì íŠ¸ ìƒì„± ë° ì—°ë™

### Phase 2: ì¸í”„ë¼ êµ¬ì¶• (Infrastructure) 
**ëª©í‘œ**: ë°°í¬ ìë™í™” + ë„ë©”ì¸ ì„¤ì • + í™˜ê²½ êµ¬ì„±

### Phase 3: ë°ì´í„° ì„¤ê³„ (Database)
**ëª©í‘œ**: Supabase DB ìŠ¤í‚¤ë§ˆ ìƒì„± + ì‹¤ì œ ë°ì´í„° ì‚½ì…

### Phase 4: í”„ë¡ íŠ¸ì—”ë“œ ê°œë°œ (Frontend)
**ëª©í‘œ**: React + TypeScript + Tailwind ê¸°ë°˜ UI ê°œë°œ

### Phase 5: í†µí•© í…ŒìŠ¤íŠ¸ (Integration)
**ëª©í‘œ**: ì‹¤ì œ ë°°í¬ í™˜ê²½ì—ì„œ ê¸°ëŠ¥ ê²€ì¦

### Phase 6: ìµœì í™” (Optimization)
**ëª©í‘œ**: ì„±ëŠ¥ ê°œì„  + ì‚¬ìš©ì ê²½í—˜ í–¥ìƒ

---

## Phase 1: í”„ë¡œì íŠ¸ ì´ˆê¸°í™” (Foundation)

### 1.1 GitHub Repository ìƒì„±
```bash
# Repository ì„¤ì •
Repository Name: moonwave-subscription-manager
Description: ìŠ¤ë§ˆíŠ¸í•œ êµ¬ë… ê´€ë¦¬ ì‹œìŠ¤í…œ - Moonwave
Visibility: Public
Initialize: README.md, .gitignore (Node), MIT License

# í•„ìˆ˜ ë¸Œëœì¹˜ ì „ëµ
main: í”„ë¡œë•ì…˜ ë°°í¬ ë¸Œëœì¹˜
develop: ê°œë°œ ì‘ì—… ë¸Œëœì¹˜
feature/*: ê¸°ëŠ¥ë³„ ì‘ì—… ë¸Œëœì¹˜
```

### 1.2 Cursor AI ì§ì ‘ ì—°ë™
```typescript
// .cursorrules íŒŒì¼ ìƒì„±
const CURSOR_RULES = `
# Moonwave ê°œë°œ ê·œì¹™

## í•„ìˆ˜ ì¤€ìˆ˜ì‚¬í•­
- localhost ê°œë°œ í™˜ê²½ ì‚¬ìš© ê¸ˆì§€
- Mock ë°ì´í„° ì‚¬ìš© ì™„ì „ ê¸ˆì§€
- Supabase ì‹¤ì œ DBë§Œ ì‚¬ìš©
- Pretendard í°íŠ¸ í•„ìˆ˜ ì ìš©
- Container Queries ë°˜ì‘í˜• ì²˜ë¦¬
- TypeScript strict ëª¨ë“œ ì¤€ìˆ˜

## ì½”ë”© í‘œì¤€
- ì»´í¬ë„ŒíŠ¸: PascalCase (SubscriptionCard.tsx)
- í›…: useSubscriptions.ts
- ìœ í‹¸ë¦¬í‹°: formatCurrency.ts
- íƒ€ì…: Database['public']['Tables']['subscriptions']['Row']

## ê¸ˆì§€ íŒ¨í„´
- const mockData = []
- localhost:3000
- if (isDev) useMockData()
- hardcoded arrays
`;
```

### 1.3 Supabase í”„ë¡œì íŠ¸ ìƒì„±
```bash
# Supabase í”„ë¡œì íŠ¸ ì„¤ì •
1. https://supabase.com ì ‘ì†
2. New Project ìƒì„±
3. í”„ë¡œì íŠ¸ëª…: moonwave-subscription-db
4. ë°ì´í„°ë² ì´ìŠ¤ ë¹„ë°€ë²ˆí˜¸ ì„¤ì •
5. ë¦¬ì „: Northeast Asia (ap-northeast-1)
6. í”„ë¡œì íŠ¸ URL ë° API Key í™•ì¸
```

### 1.4 ê¸°ë³¸ í”„ë¡œì íŠ¸ êµ¬ì¡° ìƒì„±
```
moonwave-subscription-manager/
â”œâ”€â”€ .github/
â”‚   â””â”€â”€ workflows/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ components/
â”‚   â”‚   â”œâ”€â”€ ui/
â”‚   â”‚   â”œâ”€â”€ features/
â”‚   â”‚   â””â”€â”€ layout/
â”‚   â”œâ”€â”€ hooks/
â”‚   â”œâ”€â”€ contexts/
â”‚   â”œâ”€â”€ lib/
â”‚   â”œâ”€â”€ types/
â”‚   â””â”€â”€ styles/
â”œâ”€â”€ supabase/
â”‚   â””â”€â”€ migrations/
â”œâ”€â”€ public/
â”œâ”€â”€ .cursorrules
â”œâ”€â”€ .env.example
â”œâ”€â”€ package.json
â”œâ”€â”€ tailwind.config.js
â”œâ”€â”€ tsconfig.json
â”œâ”€â”€ vite.config.ts
â””â”€â”€ README.md
```

---

## Phase 2: ì¸í”„ë¼ êµ¬ì¶• (Infrastructure)

### 2.1 GitHub Secrets í™˜ê²½ ë³€ìˆ˜ ì„¤ì •
```bash
# GitHub Repository Settings > Secrets and variables > Actions

VITE_SUPABASE_URL=https://your-project.supabase.co
VITE_SUPABASE_ANON_KEY=your-anon-key-here
VITE_SITE_URL=https://project-name.moonwave.kr
CUSTOM_DOMAIN=project-name.moonwave.kr
VITE_ENVIRONMENT=production
```

### 2.2 GitHub Actions ì›Œí¬í”Œë¡œìš° ìƒì„±
```yaml
# .github/workflows/deploy.yml
name: Moonwave Deploy

on:
  push:
    branches: [ main ]
  pull_request:
    branches: [ main ]

env:
  VITE_SUPABASE_URL: ${{ secrets.VITE_SUPABASE_URL }}
  VITE_SUPABASE_ANON_KEY: ${{ secrets.VITE_SUPABASE_ANON_KEY }}
  VITE_SITE_URL: ${{ secrets.VITE_SITE_URL }}

jobs:
  build-and-deploy:
    runs-on: ubuntu-latest
    steps:
    - uses: actions/checkout@v4
    - uses: actions/setup-node@v4
      with:
        node-version: '20'
        cache: 'npm'
    
    - name: Install Dependencies
      run: npm ci
    
    - name: Type Check
      run: npm run type-check
    
    - name: Build
      run: npm run build
    
    - name: Deploy to GitHub Pages
      uses: peaceiris/actions-gh-pages@v3
      with:
        github_token: ${{ secrets.GITHUB_TOKEN }}
        publish_dir: ./dist
        cname: ${{ secrets.CUSTOM_DOMAIN }}
```

### 2.3 íŒ¨í‚¤ì§€ ë° ì„¤ì • íŒŒì¼ ìƒì„±
```json
// package.json
{
  "name": "moonwave-subscription-manager",
  "version": "1.0.0",
  "type": "module",
  "scripts": {
    "dev": "echo 'localhost ê°œë°œ ê¸ˆì§€. GitHub Codespaces ì‚¬ìš©' && exit 1",
    "build": "tsc && vite build",
    "preview": "vite preview",
    "type-check": "tsc --noEmit",
    "lint": "eslint . --ext ts,tsx --report-unused-disable-directives --max-warnings 0"
  },
  "dependencies": {
    "react": "^18.2.0",
    "react-dom": "^18.2.0",
    "@supabase/supabase-js": "^2.38.0",
    "lucide-react": "^0.263.1",
    "clsx": "^2.0.0",
    "tailwind-merge": "^2.0.0"
  },
  "devDependencies": {
    "@types/react": "^18.2.0",
    "@types/react-dom": "^18.2.0",
    "@typescript-eslint/eslint-plugin": "^6.0.0",
    "@typescript-eslint/parser": "^6.0.0",
    "@vitejs/plugin-react": "^4.0.0",
    "autoprefixer": "^10.4.0",
    "eslint": "^8.45.0",
    "eslint-plugin-react-hooks": "^4.6.0",
    "eslint-plugin-react-refresh": "^0.4.0",
    "postcss": "^8.4.0",
    "tailwindcss": "^3.3.0",
    "@tailwindcss/container-queries": "^0.1.1",
    "typescript": "^5.0.0",
    "vite": "^4.4.0"
  }
}
```

### 2.4 Tailwind CSS + Container Queries ì„¤ì •
```javascript
// tailwind.config.js
module.exports = {
  content: [
    "./index.html",
    "./src/**/*.{js,ts,jsx,tsx}",
  ],
  theme: {
    extend: {
      fontFamily: {
        pretendard: [
          'Pretendard Variable', 
          'Pretendard', 
          '-apple-system', 
          'BlinkMacSystemFont', 
          'system-ui', 
          'sans-serif'
        ]
      },
      colors: {
        moonwave: {
          primary: {
            50: '#eff6ff',
            500: '#3b82f6',
            600: '#2563eb',
            900: '#1e3a8a'
          }
        }
      }
    }
  },
  plugins: [
    require('@tailwindcss/container-queries')
  ]
}
```

### 2.5 ë„ë©”ì¸ ì„¤ì • (xxx.moonwave.kr)
```bash
# DNS ì„¤ì • ìš”ì²­
Record Type: CNAME
Name: project-name
Value: username.github.io
TTL: 3600

# GitHub Pages ì„¤ì •
Repository Settings > Pages
Source: Deploy from a branch
Branch: gh-pages
Custom domain: project-name.moonwave.kr
```

---

## Phase 3: ë°ì´í„° ì„¤ê³„ (Database)

### 3.1 Supabase DB ìŠ¤í‚¤ë§ˆ ìƒì„±
```sql
-- supabase/migrations/001_initial_schema.sql

-- ì‚¬ìš©ì í”„ë¡œí•„ í…Œì´ë¸”
CREATE TABLE IF NOT EXISTS public.profiles (
  id UUID REFERENCES auth.users(id) ON DELETE CASCADE PRIMARY KEY,
  email TEXT UNIQUE NOT NULL,
  name TEXT,
  avatar_url TEXT,
  subscription_count INTEGER DEFAULT 0,
  total_monthly_cost DECIMAL(10,2) DEFAULT 0,
  created_at TIMESTAMP WITH TIME ZONE DEFAULT NOW(),
  updated_at TIMESTAMP WITH TIME ZONE DEFAULT NOW()
);

-- êµ¬ë… ì„œë¹„ìŠ¤ í…Œì´ë¸”
CREATE TABLE IF NOT EXISTS public.subscriptions (
  id UUID DEFAULT gen_random_uuid() PRIMARY KEY,
  user_id UUID REFERENCES public.profiles(id) ON DELETE CASCADE NOT NULL,
  name TEXT NOT NULL,
  description TEXT,
  price DECIMAL(10,2) NOT NULL,
  currency TEXT NOT NULL DEFAULT 'KRW',
  billing_cycle TEXT NOT NULL DEFAULT 'monthly',
  next_billing_date DATE NOT NULL,
  category TEXT DEFAULT 'others',
  icon_url TEXT,
  website_url TEXT,
  is_active BOOLEAN DEFAULT TRUE,
  created_at TIMESTAMP WITH TIME ZONE DEFAULT NOW(),
  updated_at TIMESTAMP WITH TIME ZONE DEFAULT NOW()
);

-- ê²°ì œ ì´ë ¥ í…Œì´ë¸”
CREATE TABLE IF NOT EXISTS public.payment_history (
  id UUID DEFAULT gen_random_uuid() PRIMARY KEY,
  subscription_id UUID REFERENCES public.subscriptions(id) ON DELETE CASCADE NOT NULL,
  amount DECIMAL(10,2) NOT NULL,
  currency TEXT NOT NULL,
  payment_date DATE NOT NULL,
  status TEXT NOT NULL DEFAULT 'completed',
  created_at TIMESTAMP WITH TIME ZONE DEFAULT NOW()
);

-- RLS ì •ì±… ì„¤ì •
ALTER TABLE public.profiles ENABLE ROW LEVEL SECURITY;
ALTER TABLE public.subscriptions ENABLE ROW LEVEL SECURITY;
ALTER TABLE public.payment_history ENABLE ROW LEVEL SECURITY;

CREATE POLICY "Users can manage own profile" ON public.profiles
  FOR ALL USING (auth.uid() = id);

CREATE POLICY "Users can manage own subscriptions" ON public.subscriptions
  FOR ALL USING (auth.uid() = user_id);

CREATE POLICY "Users can view own payment history" ON public.payment_history
  FOR SELECT USING (
    auth.uid() = (SELECT user_id FROM public.subscriptions WHERE id = subscription_id)
  );
```

### 3.2 ì‹¤ì œ í…ŒìŠ¤íŠ¸ ë°ì´í„° ì‚½ì…
```sql
-- supabase/seed.sql
-- ì‹¤ì œ ë°ì´í„° (Mock ë°ì´í„° ì•„ë‹˜)

-- í…ŒìŠ¤íŠ¸ ì‚¬ìš©ì í”„ë¡œí•„
INSERT INTO public.profiles (id, email, name) VALUES
('test-user-uuid', 'test@moonwave.kr', 'ë¬¸ìœ ');

-- ì‹¤ì œ êµ¬ë… ë°ì´í„°
INSERT INTO public.subscriptions (
  user_id, name, description, price, currency, 
  billing_cycle, next_billing_date, category
) VALUES
('test-user-uuid', 'Netflix Premium', '4K ìŠ¤íŠ¸ë¦¬ë° ì„œë¹„ìŠ¤', 17000, 'KRW', 'monthly', '2025-08-15', 'streaming'),
('test-user-uuid', 'Spotify Premium', 'ë¬´ì œí•œ ìŒì•… ìŠ¤íŠ¸ë¦¬ë°', 10900, 'KRW', 'monthly', '2025-08-20', 'streaming'),
('test-user-uuid', 'ChatGPT Plus', 'AI ì–´ì‹œìŠ¤í„´íŠ¸ ì„œë¹„ìŠ¤', 20, 'USD', 'monthly', '2025-08-10', 'software'),
('test-user-uuid', 'Adobe Creative Cloud', 'ë””ìì¸ íˆ´ íŒ¨í‚¤ì§€', 59.99, 'USD', 'monthly', '2025-08-25', 'software'),
('test-user-uuid', 'Nintendo Switch Online', 'ê²Œì„ ì˜¨ë¼ì¸ ì„œë¹„ìŠ¤', 4900, 'KRW', 'monthly', '2025-08-12', 'gaming');

-- ê²°ì œ ì´ë ¥ ë°ì´í„°
INSERT INTO public.payment_history (subscription_id, amount, currency, payment_date, status)
SELECT id, price, currency, DATE(created_at), 'completed'
FROM public.subscriptions;
```

### 3.3 Supabase íƒ€ì… ìƒì„±
```typescript
// src/types/supabase.ts
export type Database = {
  public: {
    Tables: {
      profiles: {
        Row: {
          id: string;
          email: string;
          name: string | null;
          avatar_url: string | null;
          subscription_count: number;
          total_monthly_cost: number;
          created_at: string;
          updated_at: string;
        };
        Insert: {
          id: string;
          email: string;
          name?: string | null;
          avatar_url?: string | null;
          subscription_count?: number;
          total_monthly_cost?: number;
          created_at?: string;
          updated_at?: string;
        };
        Update: {
          id?: string;
          email?: string;
          name?: string | null;
          avatar_url?: string | null;
          subscription_count?: number;
          total_monthly_cost?: number;
          created_at?: string;
          updated_at?: string;
        };
      };
      subscriptions: {
        Row: {
          id: string;
          user_id: string;
          name: string;
          description: string | null;
          price: number;
          currency: string;
          billing_cycle: string;
          next_billing_date: string;
          category: string;
          icon_url: string | null;
          website_url: string | null;
          is_active: boolean;
          created_at: string;
          updated_at: string;
        };
        Insert: {
          id?: string;
          user_id: string;
          name: string;
          description?: string | null;
          price: number;
          currency?: string;
          billing_cycle?: string;
          next_billing_date: string;
          category?: string;
          icon_url?: string | null;
          website_url?: string | null;
          is_active?: boolean;
          created_at?: string;
          updated_at?: string;
        };
        Update: {
          id?: string;
          user_id?: string;
          name?: string;
          description?: string | null;
          price?: number;
          currency?: string;
          billing_cycle?: string;
          next_billing_date?: string;
          category?: string;
          icon_url?: string | null;
          website_url?: string | null;
          is_active?: boolean;
          created_at?: string;
          updated_at?: string;
        };
      };
      payment_history: {
        Row: {
          id: string;
          subscription_id: string;
          amount: number;
          currency: string;
          payment_date: string;
          status: string;
          created_at: string;
        };
        Insert: {
          id?: string;
          subscription_id: string;
          amount: number;
          currency: string;
          payment_date: string;
          status?: string;
          created_at?: string;
        };
        Update: {
          id?: string;
          subscription_id?: string;
          amount?: number;
          currency?: string;
          payment_date?: string;
          status?: string;
          created_at?: string;
        };
      };
    };
  };
};
```

---

## Phase 4: í”„ë¡ íŠ¸ì—”ë“œ ê°œë°œ (Frontend)

### 4.1 ê¸°ë³¸ ì„¤ì • íŒŒì¼ ìƒì„±
```typescript
// src/lib/supabase.ts
import { createClient } from '@supabase/supabase-js';
import { Database } from '@/types/supabase';

const supabaseUrl = import.meta.env.VITE_SUPABASE_URL;
const supabaseAnonKey = import.meta.env.VITE_SUPABASE_ANON_KEY;

if (!supabaseUrl || !supabaseAnonKey) {
  throw new Error('Supabase í™˜ê²½ ë³€ìˆ˜ê°€ ì„¤ì •ë˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤');
}

export const supabase = createClient<Database>(supabaseUrl, supabaseAnonKey);
```

```typescript
// src/lib/utils.ts
import { clsx, type ClassValue } from 'clsx';
import { twMerge } from 'tailwind-merge';

export function cn(...inputs: ClassValue[]) {
  return twMerge(clsx(inputs));
}

// ê°€ê²© í¬ë§·íŒ…
export const formatCurrency = (
  amount: number,
  currency: string = 'KRW'
): string => {
  return new Intl.NumberFormat('ko-KR', {
    style: 'currency',
    currency: currency === 'KRW' ? 'KRW' : 'USD',
    minimumFractionDigits: currency === 'KRW' ? 0 : 2
  }).format(amount);
};

// ë‚ ì§œ í¬ë§·íŒ…
export const formatDate = (dateString: string): string => {
  return new Intl.DateTimeFormat('ko-KR', {
    year: 'numeric',
    month: 'long',
    day: 'numeric'
  }).format(new Date(dateString));
};
```

### 4.2 Supabase Context ìƒì„±
```typescript
// src/contexts/SupabaseContext.tsx
import React, { createContext, useContext, useEffect, useState } from 'react';
import { supabase } from '@/lib/supabase';
import { User } from '@supabase/supabase-js';

interface SupabaseContextType {
  user: User | null;
  loading: boolean;
  supabase: typeof supabase;
}

const SupabaseContext = createContext<SupabaseContextType | undefined>(undefined);

export const SupabaseProvider: React.FC<{ children: React.ReactNode }> = ({ children }) => {
  const [user, setUser] = useState<User | null>(null);
  const [loading, setLoading] = useState(true);

  useEffect(() => {
    // í˜„ì¬ ì‚¬ìš©ì í™•ì¸
    supabase.auth.getUser().then(({ data: { user } }) => {
      setUser(user);
      setLoading(false);
    });

    // ì¸ì¦ ìƒíƒœ ë³€ê²½ êµ¬ë…
    const { data: { subscription } } = supabase.auth.onAuthStateChange(
      (event, session) => {
        setUser(session?.user ?? null);
        setLoading(false);
      }
    );

    return () => subscription.unsubscribe();
  }, []);

  return (
    <SupabaseContext.Provider value={{ user, loading, supabase }}>
      {children}
    </SupabaseContext.Provider>
  );
};

export const useSupabase = () => {
  const context = useContext(SupabaseContext);
  if (context === undefined) {
    throw new Error('useSupabaseëŠ” SupabaseProvider ë‚´ì—ì„œ ì‚¬ìš©í•´ì•¼ í•©ë‹ˆë‹¤');
  }
  return context;
};
```

### 4.3 ì‹¤ì œ ë°ì´í„° í›… ìƒì„±
```typescript
// src/hooks/useSubscriptions.ts
import { useState, useEffect, useCallback } from 'react';
import { useSupabase } from '@/contexts/SupabaseContext';
import { Database } from '@/types/supabase';

type Subscription = Database['public']['Tables']['subscriptions']['Row'];

export const useSubscriptions = () => {
  const { user, supabase } = useSupabase();
  const [subscriptions, setSubscriptions] = useState<Subscription[]>([]);
  const [loading, setLoading] = useState(true);
  const [error, setError] = useState<string | null>(null);

  const fetchSubscriptions = useCallback(async () => {
    if (!user) {
      setSubscriptions([]);
      setLoading(false);
      return;
    }

    setLoading(true);
    setError(null);

    try {
      const { data, error } = await supabase
        .from('subscriptions')
        .select('*')
        .eq('user_id', user.id)
        .eq('is_active', true)
        .order('created_at', { ascending: false });

      if (error) throw error;
      setSubscriptions(data || []);
    } catch (err) {
      const errorMessage = err instanceof Error ? err.message : 'ë°ì´í„° ë¡œë”© ì‹¤íŒ¨';
      setError(errorMessage);
      console.error('êµ¬ë… ë°ì´í„° ë¡œë”© ì‹¤íŒ¨:', err);
    } finally {
      setLoading(false);
    }
  }, [user, supabase]);

  // ì‹¤ì‹œê°„ êµ¬ë…
  useEffect(() => {
    if (!user) return;

    fetchSubscriptions();

    const subscription = supabase
      .channel('subscriptions_realtime')
      .on('postgres_changes', 
        { 
          event: '*', 
          schema: 'public', 
          table: 'subscriptions',
          filter: `user_id=eq.${user.id}`
        },
        () => fetchSubscriptions()
      )
      .subscribe();

    return () => subscription.unsubscribe();
  }, [fetchSubscriptions, user, supabase]);

  return { subscriptions, loading, error, refetch: fetchSubscriptions };
};
```

### 4.4 ê¸°ë³¸ UI ì»´í¬ë„ŒíŠ¸ ìƒì„±
```typescript
// src/components/ui/Button.tsx
import React from 'react';
import { cn } from '@/lib/utils';

interface ButtonProps extends React.ButtonHTMLAttributes<HTMLButtonElement> {
  variant?: 'primary' | 'secondary' | 'destructive' | 'ghost';
  size?: 'sm' | 'md' | 'lg';
}

export const Button = React.forwardRef<HTMLButtonElement, ButtonProps>(
  ({ className, variant = 'primary', size = 'md', ...props }, ref) => {
    const variants = {
      primary: 'bg-blue-600 hover:bg-blue-700 text-white',
      secondary: 'bg-gray-200 hover:bg-gray-300 text-gray-900',
      destructive: 'bg-red-600 hover:bg-red-700 text-white',
      ghost: 'bg-transparent hover:bg-gray-100 text-gray-700'
    };

    const sizes = {
      sm: 'px-3 py-1.5 text-sm',
      md: 'px-4 py-2 text-base',
      lg: 'px-6 py-3 text-lg'
    };

    return (
      <button
        ref={ref}
        className={cn(
          'font-pretendard antialiased font-medium rounded-lg',
          'transition-colors duration-200',
          'focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2',
          'disabled:opacity-50 disabled:cursor-not-allowed',
          variants[variant],
          sizes[size],
          className
        )}
        {...props}
      />
    );
  }
);

Button.displayName = 'Button';
```

```typescript
// src/components/ui/Card.tsx
import React from 'react';
import { cn } from '@/lib/utils';

interface CardProps extends React.HTMLAttributes<HTMLDivElement> {
  variant?: 'default' | 'highlighted' | 'error';
}

export const Card = React.forwardRef<HTMLDivElement, CardProps>(
  ({ className, variant = 'default', ...props }, ref) => {
    const variants = {
      default: 'bg-white border-gray-200',
      highlighted: 'bg-blue-50 border-blue-200',
      error: 'bg-red-50 border-red-200'
    };

    return (
      <div
        ref={ref}
        className={cn(
          '@container rounded-xl border shadow-sm',
          'transition-all duration-200 hover:shadow-lg',
          variants[variant],
          className
        )}
        {...props}
      />
    );
  }
);

Card.displayName = 'Card';
```

### 4.5 êµ¬ë… ì¹´ë“œ ì»´í¬ë„ŒíŠ¸ ìƒì„±
```typescript
// src/components/features/subscriptions/SubscriptionCard.tsx
import React from 'react';
import { Card } from '@/components/ui/Card';
import { Button } from '@/components/ui/Button';
import { cn, formatCurrency, formatDate } from '@/lib/utils';
import { Database } from '@/types/supabase';

type Subscription = Database['public']['Tables']['subscriptions']['Row'];

interface SubscriptionCardProps {
  subscription: Subscription;
  onEdit?: (subscription: Subscription) => void;
  onDelete?: (id: string) => void;
  className?: string;
}

export const SubscriptionCard: React.FC<SubscriptionCardProps> = ({
  subscription,
  onEdit,
  onDelete,
  className
}) => {
  return (
    <Card className={cn('p-6', className)}>
      <div className="@lg:flex-row flex flex-col @lg:items-center @lg:justify-between">
        {/* êµ¬ë… ì •ë³´ */}
        <div className="@lg:flex-1 min-w-0">
          <h3 className={cn(
            'font-pretendard antialiased font-semibold',
            'tracking-korean-normal break-keep-ko',
            '@lg:text-xl text-lg text-gray-900 @lg:mb-2 mb-1'
          )}>
            {subscription.name}
          </h3>
          
          {subscription.description && (
            <p className={cn(
              'font-pretendard antialiased text-sm text-gray-600',
              'tracking-korean-normal break-keep-ko @lg:mb-0 mb-2'
            )}>
              {subscription.description}
            </p>
          )}
          
          <div className="@lg:flex @lg:items-center @lg:gap-4 space-y-1 @lg:space-y-0">
            <span className={cn(
              'font-pretendard font-bold text-numeric',
              '@lg:text-xl text-lg text-blue-600'
            )}>
              {formatCurrency(subscription.price, subscription.currency)}
            </span>
            
            <span className="font-pretendard text-sm text-gray-500">
              {subscription.billing_cycle === 'monthly' ? 'ì›”ê°„' : 
               subscription.billing_cycle === 'yearly' ? 'ì—°ê°„' : 'ì£¼ê°„'}
            </span>
          </div>
        </div>
        
        {/* ì•¡ì…˜ ë²„íŠ¼ */}
        <div className="@lg:ml-6 @lg:mt-0 mt-4 flex gap-2">
          {onEdit && (
            <Button
              variant="secondary"
              size="sm"
              onClick={() => onEdit(subscription)}
              aria-label={`${subscription.name} êµ¬ë… ìˆ˜ì •`}
            >
              ìˆ˜ì •
            </Button>
          )}
          
          {onDelete && (
            <Button
              variant="destructive"
              size="sm"
              onClick={() => onDelete(subscription.id)}
              aria-label={`${subscription.name} êµ¬ë… ì‚­ì œ`}
            >
              ì‚­ì œ
            </Button>
          )}
        </div>
      </div>
      
      {/* ë‹¤ìŒ ê²°ì œì¼ */}
      <div className="@lg:mt-4 mt-3 pt-3 border-t border-gray-100">
        <p className="font-pretendard text-sm text-gray-500">
          ë‹¤ìŒ ê²°ì œì¼: <span className="text-gray-900 font-medium">
            {formatDate(subscription.next_billing_date)}
          </span>
        </p>
      </div>
    </Card>
  );
};
```

### 4.6 ëŒ€ì‹œë³´ë“œ í˜ì´ì§€ ìƒì„±
```typescript
// src/components/features/dashboard/SubscriptionDashboard.tsx
import React from 'react';
import { useSubscriptions } from '@/hooks/useSubscriptions';
import { SubscriptionCard } from '@/components/features/subscriptions/SubscriptionCard';
import { Button } from '@/components/ui/Button';
import { cn } from '@/lib/utils';

export const SubscriptionDashboard: React.FC = () => {
  const { subscriptions, loading, error } = useSubscriptions();
  
  if (loading) {
    return (
      <div className="font-pretendard antialiased p-6">
        <div className="animate-pulse space-y-4">
          <div className="h-6 bg-gray-200 rounded"></div>
          <div className="h-4 bg-gray-200 rounded w-3/4"></div>
          <div className="h-32 bg-gray-200 rounded"></div>
        </div>
      </div>
    );
  }
  
  if (error) {
    return (
      <div className="font-pretendard antialiased p-6 text-center">
        <p className="text-red-600 mb-4">ë°ì´í„° ë¡œë”© ì‹¤íŒ¨: {error}</p>
        <Button onClick={() => window.location.reload()}>
          ë‹¤ì‹œ ì‹œë„
        </Button>
      </div>
    );
  }
  
  if (subscriptions.length === 0) {
    return (
      <div className="font-pretendard antialiased text-center py-12">
        <h2 className="text-xl font-semibold text-gray-900 mb-4">
          ì•„ì§ ë“±ë¡ëœ êµ¬ë…ì´ ì—†ìŠµë‹ˆë‹¤
        </h2>
        <p className="text-gray-500 mb-6">
          ì²« ë²ˆì§¸ êµ¬ë… ì„œë¹„ìŠ¤ë¥¼ ì¶”ê°€í•´ë³´ì„¸ìš”.
        </p>
        <Button>êµ¬ë… ì¶”ê°€</Button>
      </div>
    );
  }
  
  return (
    <div className="@container space-y-6 p-6">
      {/* í—¤ë” */}
      <div className="flex items-center justify-between">
        <div>
          <h1 className={cn(
            'font-pretendard antialiased font-bold',
            'text-2xl text-gray-900 tracking-korean-tight break-keep-ko'
          )}>
            ë‚´ êµ¬ë… ê´€ë¦¬
          </h1>
          <p className="font-pretendard text-gray-600 mt-1">
            ì´ {subscriptions.length}ê°œì˜ êµ¬ë… ì„œë¹„ìŠ¤
          </p>
        </div>
        <Button>êµ¬ë… ì¶”ê°€</Button>
      </div>
      
      {/* êµ¬ë… ì¹´ë“œ ê·¸ë¦¬ë“œ */}
      <div className="grid @2xl:grid-cols-3 @lg:grid-cols-2 grid-cols-1 gap-6">
        {subscriptions.map((subscription) => (
          <SubscriptionCard 
            key={subscription.id} 
            subscription={subscription}
          />
        ))}
      </div>
    </div>
  );
};
```

### 4.7 ë©”ì¸ App ì»´í¬ë„ŒíŠ¸
```typescript
// src/App.tsx
import React from 'react';
import { SupabaseProvider } from '@/contexts/SupabaseContext';
import { SubscriptionDashboard } from '@/components/features/dashboard/SubscriptionDashboard';
import './styles/globals.css';

const App: React.FC = () => {
  return (
    <SupabaseProvider>
      <div className="min-h-screen bg-gray-50">
        <main>
          <SubscriptionDashboard />
        </main>
      </div>
    </SupabaseProvider>
  );
};

export default App;
```

### 4.8 CSS ìŠ¤íƒ€ì¼ ì„¤ì •
```css
/* src/styles/globals.css */
@import url("https://cdn.jsdelivr.net/gh/orioncactus/pretendard@v1.3.9/dist/web/variable/pretendardvariable-dynamic-subset.min.css");
@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  :root {
    --font-pretendard: "Pretendard Variable", Pretendard, -apple-system, BlinkMacSystemFont, system-ui, sans-serif;
  }
  
  html {
    font-family: var(--font-pretendard);
  }
  
  body {
    font-family: var(--font-pretendard);
    font-weight: 400;
    line-height: 1.6;
    letter-spacing: -0.01em;
  }
}

@layer components {
  .tracking-korean-tight {
    letter-spacing: -0.02em;
  }
  
  .tracking-korean-normal {
    letter-spacing: -0.01em;
  }
  
  .break-keep-ko {
    word-break: keep-all;
    overflow-wrap: break-word;
  }
  
  .text-numeric {
    font-variant-numeric: tabular-nums;
    font-feature-settings: 'tnum';
  }
}
```

---

## Phase 5: í†µí•© í…ŒìŠ¤íŠ¸ (Integration)

### 5.1 ë°°í¬ ì „ ì²´í¬ë¦¬ìŠ¤íŠ¸
```typescript
const DEPLOYMENT_CHECKLIST = [
  // í™˜ê²½ ì„¤ì •
  "âœ… GitHub Secrets í™˜ê²½ ë³€ìˆ˜ ì„¤ì • ì™„ë£Œ",
  "âœ… Supabase í”„ë¡œì íŠ¸ ìƒì„± ë° DB ìŠ¤í‚¤ë§ˆ ì ìš©",
  "âœ… ì‹¤ì œ í…ŒìŠ¤íŠ¸ ë°ì´í„° ì‚½ì… ì™„ë£Œ",
  "âœ… GitHub Actions ì›Œí¬í”Œë¡œìš° ì„¤ì •",
  
  // ì½”ë“œ í’ˆì§ˆ
  "âœ… TypeScript íƒ€ì… ì²´í¬ í†µê³¼",
  "âœ… ESLint ê²€ì‚¬ í†µê³¼",
  "âœ… ë¹Œë“œ ì—ëŸ¬ ì—†ìŒ",
  "âœ… ì‹¤ì œ Supabase ë°ì´í„° ì—°ë™ í™•ì¸",
  
  // ê¸°ëŠ¥ ê²€ì¦
  "âœ… êµ¬ë… ë°ì´í„° ë¡œë”© ì •ìƒ ì‘ë™",
  "âœ… ë°˜ì‘í˜• ë ˆì´ì•„ì›ƒ ì •ìƒ ì‘ë™",
  "âœ… Pretendard í°íŠ¸ ì ìš© í™•ì¸",
  "âœ… Container Queries ì‘ë™ í™•ì¸",
  
  // ë°°í¬ ê²€ì¦
  "âœ… GitHub Actions ë°°í¬ ì„±ê³µ",
  "âœ… xxx.moonwave.kr ë„ë©”ì¸ ì ‘ì† í™•ì¸",
  "âœ… ì‹¤ì œ ë°°í¬ í™˜ê²½ì—ì„œ ë°ì´í„° ë¡œë”© í™•ì¸"
] as const;
```

### 5.2 í…ŒìŠ¤íŠ¸ ì‹œë‚˜ë¦¬ì˜¤
```typescript
// ìˆ˜ë™ í…ŒìŠ¤íŠ¸ ì‹œë‚˜ë¦¬ì˜¤
const TEST_SCENARIOS = [
  {
    name: "1. í˜ì´ì§€ ë¡œë”© í…ŒìŠ¤íŠ¸",
    steps: [
      "https://project-name.moonwave.kr ì ‘ì†",
      "í˜ì´ì§€ ë¡œë”© ì‹œê°„ í™•ì¸ (3ì´ˆ ì´ë‚´)",
      "Pretendard í°íŠ¸ ë Œë”ë§ í™•ì¸",
      "ë ˆì´ì•„ì›ƒ ê¹¨ì§ ì—†ìŒ í™•ì¸"
    ],
    expected: "í˜ì´ì§€ê°€ ì •ìƒì ìœ¼ë¡œ ë¡œë“œë˜ê³  í°íŠ¸ê°€ ì˜¬ë°”ë¥´ê²Œ ì ìš©ë¨"
  },
  
  {
    name: "2. ë°ì´í„° ë¡œë”© í…ŒìŠ¤íŠ¸",
    steps: [
      "êµ¬ë… ë°ì´í„° ë¡œë”© í™•ì¸",
      "ë¡œë”© ìŠ¤í”¼ë„ˆ í‘œì‹œ í™•ì¸",
      "ì‹¤ì œ Supabase ë°ì´í„° í‘œì‹œ í™•ì¸",
      "Mock ë°ì´í„° ì‚¬ìš©í•˜ì§€ ì•ŠìŒ í™•ì¸"
    ],
    expected: "ì‹¤ì œ DBì˜ êµ¬ë… ë°ì´í„°ê°€ ì •ìƒì ìœ¼ë¡œ í‘œì‹œë¨"
  },
  
  {
    name: "3. ë°˜ì‘í˜• í…ŒìŠ¤íŠ¸",
    steps: [
      "ëª¨ë°”ì¼ ë·° (375px) í™•ì¸",
      "íƒœë¸”ë¦¿ ë·° (768px) í™•ì¸", 
      "ë°ìŠ¤í¬í†± ë·° (1024px) í™•ì¸",
      "Container Queries ì‘ë™ í™•ì¸"
    ],
    expected: "ëª¨ë“  í™”ë©´ í¬ê¸°ì—ì„œ ë ˆì´ì•„ì›ƒì´ ì ì ˆíˆ ì¡°ì •ë¨"
  },
  
  {
    name: "4. ì„±ëŠ¥ í…ŒìŠ¤íŠ¸",
    steps: [
      "í˜ì´ì§€ ë¡œë“œ ì‹œê°„ ì¸¡ì •",
      "LCP (Largest Contentful Paint) í™•ì¸",
      "ë²ˆë“¤ í¬ê¸° í™•ì¸",
      "Core Web Vitals ì ìˆ˜ í™•ì¸"
    ],
    expected: "ì„±ëŠ¥ ë©”íŠ¸ë¦­ì´ ê¸°ì¤€ì¹˜ ì´ë‚´"
  }
];
```

---

## Phase 6: ìµœì í™” (Optimization)

### 6.1 ì„±ëŠ¥ ìµœì í™”
```typescript
// ì„±ëŠ¥ ëª¨ë‹ˆí„°ë§ ì½”ë“œ ì¶”ê°€
export const usePerformanceMonitoring = () => {
  useEffect(() => {
    const observer = new PerformanceObserver((list) => {
      list.getEntries().forEach((entry) => {
        if (entry.entryType === 'largest-contentful-paint') {
          console.log('LCP:', entry.startTime, 'ms');
        }
      });
    });

    observer.observe({ entryTypes: ['largest-contentful-paint'] });
    return () => observer.disconnect();
  }, []);
};

// ì´ë¯¸ì§€ ìµœì í™”
const optimizeImages = () => {
  // WebP í¬ë§· ì‚¬ìš©
  // ì ì ˆí•œ í¬ê¸° ì¡°ì •
  // ì§€ì—° ë¡œë”© ì ìš©
};

// ì½”ë“œ ìŠ¤í”Œë¦¬íŒ…
const LazySubscriptionForm = React.lazy(() => 
  import('./components/features/subscriptions/SubscriptionForm')
);
```

### 6.2 SEO ë° ë©”íƒ€ë°ì´í„° ìµœì í™”
```html
<!-- index.html -->
<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <!-- SEO ë©”íƒ€ë°ì´í„° -->
  <title>Moonwave - ìŠ¤ë§ˆíŠ¸í•œ êµ¬ë… ê´€ë¦¬ ì‹œìŠ¤í…œ</title>
  <meta name="description" content="êµ¬ë… ì„œë¹„ìŠ¤ë¥¼ ì²´ê³„ì ìœ¼ë¡œ ê´€ë¦¬í•˜ê³  ë¶ˆí•„ìš”í•œ ì§€ì¶œì„ ì¤„ì—¬ë³´ì„¸ìš”. Moonwaveë¡œ ëª¨ë“  êµ¬ë…ì„ í•œ ê³³ì—ì„œ ê´€ë¦¬í•˜ì„¸ìš”." />
  <meta name="keywords" content="êµ¬ë…ê´€ë¦¬, ë©¤ë²„ì‹­ê´€ë¦¬, ì›”ì •ì•¡, êµ¬ë…ë£Œ, Moonwave" />
  
  <!-- Open Graph -->
  <meta property="og:title" content="Moonwave - ìŠ¤ë§ˆíŠ¸í•œ êµ¬ë… ê´€ë¦¬ ì‹œìŠ¤í…œ" />
  <meta property="og:description" content="êµ¬ë… ì„œë¹„ìŠ¤ë¥¼ ì²´ê³„ì ìœ¼ë¡œ ê´€ë¦¬í•˜ê³  ë¶ˆí•„ìš”í•œ ì§€ì¶œì„ ì¤„ì—¬ë³´ì„¸ìš”." />
  <meta property="og:type" content="website" />
  <meta property="og:url" content="https://project-name.moonwave.kr" />
  
  <!-- í°íŠ¸ ìµœì í™” -->
  <link rel="preload" as="style" crossorigin 
        href="https://cdn.jsdelivr.net/gh/orioncactus/pretendard@v1.3.9/dist/web/variable/pretendardvariable-dynamic-subset.min.css" />
  <link rel="preconnect" href="https://cdn.jsdelivr.net" crossorigin />
</head>
<body>
  <div id="root"></div>
  <script type="module" src="/src/main.tsx"></script>
</body>
</html>
```

### 6.3 ì ‘ê·¼ì„± ê°œì„ 
```typescript
// ì ‘ê·¼ì„± ê°œì„  ì‚¬í•­
const ACCESSIBILITY_IMPROVEMENTS = [
  "í‚¤ë³´ë“œ ë‚´ë¹„ê²Œì´ì…˜ ì§€ì›",
  "ìŠ¤í¬ë¦° ë¦¬ë” í˜¸í™˜ì„±",
  "ê³ ëŒ€ë¹„ ëª¨ë“œ ì§€ì›", 
  "ARIA ë ˆì´ë¸” ì ì ˆí•œ ì‚¬ìš©",
  "í¬ì»¤ìŠ¤ ì¸ë””ì¼€ì´í„° ëª…í™•ì„±",
  "ì˜ë¯¸ë¡ ì  HTML êµ¬ì¡°"
];

// ì˜ˆì‹œ: ì ‘ê·¼ì„± ê°œì„ ëœ ë²„íŠ¼
<Button
  aria-label="Netflix Premium êµ¬ë… ìˆ˜ì •"
  aria-describedby="subscription-help-text"
  onKeyDown={(e) => {
    if (e.key === 'Enter' || e.key === ' ') {
      handleEdit();
    }
  }}
>
  ìˆ˜ì •
</Button>
```

---

## ğŸ¯ ì „ì²´ í”„ë¡œì„¸ìŠ¤ ì²´í¬í¬ì¸íŠ¸

### âœ… Phase 1 ì™„ë£Œ ì¡°ê±´
- [ ] GitHub Repository ìƒì„± ë° Cursor AI ì—°ë™
- [ ] Supabase í”„ë¡œì íŠ¸ ìƒì„±
- [ ] ê¸°ë³¸ í”„ë¡œì íŠ¸ êµ¬ì¡° ì„¤ì •
- [ ] .cursorrules íŒŒì¼ ì‘ì„±

### âœ… Phase 2 ì™„ë£Œ ì¡°ê±´  
- [ ] GitHub Actions ì›Œí¬í”Œë¡œìš° ì„¤ì •
- [ ] GitHub Secrets í™˜ê²½ ë³€ìˆ˜ ì„¤ì •
- [ ] Tailwind CSS + Container Queries ì„¤ì •
- [ ] xxx.moonwave.kr ë„ë©”ì¸ ì—°ê²°

### âœ… Phase 3 ì™„ë£Œ ì¡°ê±´
- [ ] Supabase DB ìŠ¤í‚¤ë§ˆ ìƒì„±
- [ ] RLS ì •ì±… ì„¤ì •
- [ ] ì‹¤ì œ í…ŒìŠ¤íŠ¸ ë°ì´í„° ì‚½ì…
- [ ] TypeScript íƒ€ì… ì •ì˜

### âœ… Phase 4 ì™„ë£Œ ì¡°ê±´
- [ ] Supabase í´ë¼ì´ì–¸íŠ¸ ì„¤ì •
- [ ] Context ë° Hook ìƒì„±
- [ ] UI ì»´í¬ë„ŒíŠ¸ ê°œë°œ
- [ ] ì‹¤ì œ ë°ì´í„° ê¸°ë°˜ í˜ì´ì§€ êµ¬í˜„

### âœ… Phase 5 ì™„ë£Œ ì¡°ê±´
- [ ] GitHub Actions ë°°í¬ ì„±ê³µ
- [ ] xxx.moonwave.kr ì ‘ì† í™•ì¸
- [ ] ì‹¤ì œ ë°ì´í„° ë¡œë”© í™•ì¸
- [ ] ë°˜ì‘í˜• ë ˆì´ì•„ì›ƒ ê²€ì¦

### âœ… Phase 6 ì™„ë£Œ ì¡°ê±´
- [ ] ì„±ëŠ¥ ìµœì í™” ì ìš©
- [ ] SEO ë©”íƒ€ë°ì´í„° ì„¤ì •
- [ ] ì ‘ê·¼ì„± ê°œì„ 
- [ ] ìµœì¢… í’ˆì§ˆ ê²€ì¦

---

**ğŸŒŠ Moonwave ê°œë°œ ì›ì¹™**

> "ê°€ì§œ íë¦„ì´ ì•„ë‹Œ, ì‹¤ì œ íë¦„ìœ¼ë¡œ ì„¤ê³„í•œë‹¤"

- **NO localhost**: GitHub ì§ì ‘ ì—°ë™ìœ¼ë¡œ ì‹¤ì œ ë°°í¬ í™˜ê²½ ì‚¬ìš©
- **NO Mock Data**: Supabase ì‹¤ì œ DBë§Œ ì‚¬ìš©
- **Real-time Flow**: ì‹¤ì‹œê°„ ë°ì´í„° ì—°ë™ ë° ë°°í¬ ìë™í™”
- **Performance First**: ì„±ëŠ¥ê³¼ ì‚¬ìš©ì ê²½í—˜ ìµœìš°ì„ 
- **Accessibility**: ëª¨ë“  ì‚¬ìš©ìë¥¼ ìœ„í•œ ì ‘ê·¼ì„± ë³´ì¥
