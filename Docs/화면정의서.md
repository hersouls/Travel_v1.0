# 모바일 여행 플래너 웹 서비스 화면 정의서

본 문서는 '여행일정카드'와 '여행계획카드'를 핵심 기능으로 하는 모바일 여행 플래너 웹 서비스의 화면 구성 및 기능을 상세하게 정의하는 것을 목적으로 합니다.

## 목차
- [서비스 개요](#1-서비스-개요)
- [전체 서비스 흐름도](#2-전체-서비스-흐름도-flowchart)
- [화면 정의: 공통 규칙](#3-화면-정의-공통-규칙)
- [메인 화면 (여행일정카드 목록)](#4-메인-화면-여행일정카드-목록)
- [여행일정카드 생성 화면](#5-여행일정카드-생성-화면)
- [여행일정 상세 화면 (Day별 목록)](#6-여행일정-상세-화면-day별-목록)
- [여행계획카드 상세/수정 화면](#7-여행계획카드-상세수정-화면)
- [장소 검색 화면](#8-장소-검색-화면)
- [전체 일정 지도 보기 화면](#9-전체-일정-지도-보기-화면)
- [데이터 정의](#10-데이터-정의)

## 1. 서비스 개요

### 1.1. 서비스 목적
사용자가 간편하게 여행 일정을 생성하고, 각 날짜별로 세부 계획을 구체적으로 수립하며, Google 지도와 연동하여 장소 정보를 풍부하게 관리할 수 있도록 지원하는 직관적인 모바일 웹 플래닝 서비스 제공을 목적으로 합니다.

### 1.2. 핵심 기능 요약
- **여행일정카드 생성**: 여행 국가와 기간을 선택하여 전체 여행의 기본 틀을 자동 생성합니다.
- **여행계획카드 등록**: Day별로 사진, 시간, 장소, 메모 등 상세 계획을 구체적으로 기록합니다.
- **Google 지도 API 연동**: 장소 검색 시 Google Place API를 통해 장소의 상세 정보(영업시간, 평점, 웹사이트 등)를 자동으로 불러와 저장합니다.
- **지도 뷰**: 생성된 모든 계획을 지도 위에서 한눈에 확인합니다.

## 2. 전체 서비스 흐름도 (Flowchart)

```
(시작) --> [메인 화면 (여행일정 목록)] --(+)--> [여행일정카드 생성] --(저장)--> [메인 화면]
   |
   └----(일정 선택)--> [여행일정 상세 (Day별 목록)] --(+)--> [여행계획카드 상세/수정]
                             | |
                             └----(Day 선택)--> [여행계획카드 상세/수정] <--+
                                                      |
                                                      └----(장소 검색)--> [장소 검색 (Google API)] --(장소 선택)--> (장소 정보 자동 입력)
```

## 3. 화면 정의: 공통 규칙

### 3.1. 화면 구성 요소
- **Header**: 화면명과 주요 액션 버튼(뒤로가기, 추가, 메뉴 등)을 포함합니다.
- **Content Area**: 각 화면의 주요 콘텐츠가 표시되는 영역입니다.
- **Bottom Navigation (필요시)**: 주요 메뉴(일정, 지도 등) 간 빠른 이동을 위한 내비게이션 바.

### 3.2. 인터랙션 규칙
- **터치(Tap)**: 선택, 실행, 이동 등의 기본 액션을 수행합니다.
- **스와이프(Swipe)**: 목록 삭제, 탭 이동 등의 보조 액션을 수행합니다.
- **롱 프레스(Long Press)**: 수정, 삭제 등 추가 옵션 메뉴를 노출합니다.

## 4. 메인 화면 (여행일정카드 목록)

### 4.1. 화면 개요
사용자가 생성한 모든 '여행일정카드'가 목록 형태로 노출되는 시작 화면입니다.

### 4.2. 화면 구성 및 기능 정의

#### Header
- **좌측**: 서비스 로고
- **우측**: 프로필 아이콘

#### Content Area
- **"나의 여행일정"**: 헤딩 텍스트
- **여행일정카드 리스트**:
  - 카드 형태 UI로 각 여행 일정을 표시합니다.
  - 카드 내 표시 정보: 대표 이미지, 여행 국가명, 여행 기간 (YYYY.MM.DD ~ YYYY.MM.DD).
  - 카드 터치 시: '여행일정 상세 화면'으로 이동합니다.
- **+ 새로운 여행 만들기 버튼 (Floating Action Button)**:
  - 화면 우측 하단에 위치합니다.
  - 버튼 터치 시: '여행일정카드 생성 화면'으로 이동합니다.

#### 초기 화면 (일정 없는 경우)
- "아직 생성된 여행이 없어요. 첫 여행을 계획해보세요!" 와 같은 안내 문구와 + 새로운 여행 만들기 버튼을 중앙에 표시합니다.

## 5. 여행일정카드 생성 화면

### 5.1. 화면 개요
새로운 여행의 국가와 기간을 설정하여 '여행일정카드'를 생성하는 화면입니다.

### 5.2. 화면 구성 및 기능 정의

#### Header
- **좌측**: 뒤로가기 아이콘
- **중앙**: "새로운 여행 만들기"

#### Content Area
- **여행 대표 이미지 등록**:
  - 카메라 아이콘이 있는 기본 이미지 영역.
  - 터치 시: 갤러리 또는 카메라 앱을 실행하여 대표 이미지 선택/촬영.
- **여행 국가**:
  - 입력 필드: "어디로 떠나시나요?" placeholder 텍스트.
  - 입력 방식: 텍스트 입력 시 국가 리스트 자동 완성 제안.
- **여행 일정**:
  - 입력 필드: 시작일 - 종료일 형태로 표시.
  - 터치 시: 달력(Date Range Picker) UI가 모달 형태로 노출되어 시작일과 종료일을 선택.
  - 기간 제한: 최대 30일까지 선택 가능하도록 설정.

#### Footer
- **저장하기 버튼**:
  - 비활성화 조건: 국가, 일정이 모두 입력되지 않은 경우.
  - 활성화 조건: 모든 필수 정보가 입력된 경우.
  - 터치 시:
    - 입력된 정보로 Trip 데이터 생성.
    - 여행 기간에 맞춰 Day 1, Day 2 ... Day N 기본 템플릿 자동 생성.
    - 저장 완료 후 '여행일정 상세 화면'으로 이동.

## 6. 여행일정 상세 화면 (Day별 목록)

### 6.1. 화면 개요
생성된 '여행일정카드'의 상세 내용으로, Day별 '여행계획카드' 목록을 보여주는 화면입니다.

### 6.2. 화면 구성 및 기능 정의

#### Header
- **좌측**: 뒤로가기 아이콘 (메인 화면으로 이동)
- **중앙**: 여행 국가명
- **우측**: 전체 지도 보기 아이콘, 더보기(점3개) 아이콘 (수정/삭제 메뉴)

#### Content Area
- **여행 정보**: 대표 이미지, 여행 기간 (YYYY.MM.DD ~ YYYY.MM.DD) 표시.
- **Day 탭**:
  - Day 1, Day 2, ... Day N 이 탭 형태로 나열됩니다.
  - 탭 선택 시: 해당 Day의 '여행계획카드' 목록을 아래에 표시합니다.
- **여행계획카드 리스트 (시간순 정렬)**:
  - 선택된 Day에 등록된 '여행계획카드'들이 시간순으로 정렬되어 표시됩니다.
  - 카드 내 표시 정보: 시작 시간, 유형 아이콘(숙소, 맛집 등), 장소명, 사진(썸네일).
  - 카드 터치 시: '여행계획카드 상세/수정 화면'으로 이동합니다.
- **+ 계획 추가하기 버튼 (Floating Action Button)**:
  - 터치 시: 현재 선택된 Day 정보가 포함된 '여행계획카드 상세/수정 화면'으로 이동합니다.

## 7. 여행계획카드 상세/수정 화면

### 7.1. 화면 개요
Day별 세부 일정을 등록하고 수정하는 핵심 화면입니다. Google 지도 API 연동을 통해 장소 정보를 가져옵니다.

### 7.2. 화면 구성 및 기능 정의

#### Header
- **좌측**: 뒤로가기 아이콘
- **중앙**: "계획 추가하기" 또는 "계획 수정하기"
- **우측**: 저장 버튼

#### Content Area (스크롤 가능)
- **사진 등록**:
  - 최대 5장까지 등록 가능한 이미지 슬라이드 영역.
  - + 버튼 터치 시 갤러리/카메라 실행.
- **유튜브 링크**:
  - 입력 필드: "https://..." placeholder.
  - 유효한 유튜브 URL 입력 시, 하단에 썸네일 미리보기 자동 표시.
- **시간**:
  - 시작 시간 ~ 종료 시간
  - 입력 필드 터치 시: 시간 선택(Time Picker) UI 모달 노출.
- **유형**:
  - 숙소, 명소, 맛집, 관광, 쇼핑, 항공, 교통, 기타
  - 선택 방식: 아이콘과 텍스트로 구성된 Chip Group에서 하나를 선택.
- **장소명**:
  - 입력 필드: "장소명을 입력하거나 검색하세요."
  - 검색 아이콘: 우측에 위치하며, 터치 시 '장소 검색 화면'으로 이동.
- **Google 지도 연동 정보 (읽기 전용)**:
  - '장소 검색 화면'에서 장소 선택 시 자동으로 채워지는 영역.
  - 지도: 선택된 장소의 위치가 표시된 작은 지도 영역 (터치 시 Google 지도로 이동).
  - 주소: 도로명 주소
  - Google 정보:
    - 영업시간 (예: "영업 중: 오전 9:00 ~ 오후 8:00")
    - 웹사이트 (링크 아이콘과 함께 표시)
    - 가격 수준 (예: $$, $$$)
    - 리뷰 (예: ★★★★☆ (리뷰 1,234개))
- **메모**:
  - 입력 필드(Text Area): 여러 줄 입력이 가능한 메모장.

#### 저장 버튼 기능
- 터치 시: 입력된 모든 정보를 Plan 데이터로 저장하고, '여행일정 상세 화면'으로 복귀하여 목록을 갱신합니다.

### 7.3. Google 지도 연동 기능 정의
- 사용자가 '장소명' 입력 필드 옆의 검색 아이콘을 터치.
- '장소 검색 화면'으로 이동.
- 사용자가 장소를 검색하고 특정 장소를 선택.
- 서비스는 Google Places API의 Place Details 요청을 통해 아래 정보를 가져옴.

## 8. 장소 검색 화면

### 8.1. 화면 개요
Google Places API (Autocomplete & Place Details)를 활용하여 장소를 검색하고 선택하는 화면입니다.

### 8.2. 화면 구성 및 기능 정의

#### Header
- **좌측**: 닫기 아이콘
- **중앙**: 검색 입력 필드 (자동 포커스)

#### Content Area
- **검색 결과 리스트**:
  - 사용자가 검색 필드에 텍스트를 입력하면, Google Places Autocomplete API가 추천 장소 목록을 실시간으로 반환하여 리스트로 표시.
  - 리스트 아이템: 장소명, 주소
- **리스트 아이템 터치 시**:
  - 해당 장소를 선택한 것으로 간주.
  - 선택된 장소의 Place ID를 이전 화면('여행계획카드 상세/수정 화면')으로 전달하고 현재 화면을 닫음.

## 9. 전체 일정 지도 보기 화면

### 9.1. 화면 개요
현재 '여행일정카드'에 등록된 모든 '여행계획카드'의 위치를 하나의 Google 지도 위에 표시하는 화면입니다.

### 9.2. 화면 구성 및 기능 정의

#### Header
- **좌측**: 뒤로가기 아이콘
- **중앙**: "전체 일정 지도"

#### Content Area
- **Google 지도**: 화면 전체를 차지.
- **지도 마커**:
  - 저장된 모든 Plan 데이터의 위도/경도(lat, lng) 위치에 마커를 표시.
  - 마커 아이콘은 Plan의 '유형'(숙소, 맛집 등)에 따라 다르게 표시.
- **마커 터치 시**:
  - 지도 하단에 간단한 정보창(Info Window 또는 Bottom Sheet)이 나타남.
  - 표시 정보: Day, 장소명, 시작 시간.
  - 상세보기 버튼: 터치 시 해당 '여행계획카드 상세/수정 화면'으로 이동.
- **경로 표시 (선택 기능)**: Day별로 마커들을 순서대로 연결하는 경로(Polyline)를 표시하는 기능 추가 가능.

## 10. 데이터 정의

### 10.1. Trip (여행일정) 데이터 모델

| 필드명 | 데이터 타입 | 설명 | 예시 |
|---|---|---|---|
| tripId | String | 고유 식별자 (Primary Key) | trip_12345 |
| userId | String | 사용자 식별자 (Foreign Key) | user_abc |
| tripTitle | String | 여행 국가명 또는 제목 | "일본 도쿄 여행" |
| coverImage | String (URL) | 대표 이미지 URL | https://.../cover.jpg |
| startDate | Timestamp | 여행 시작일 | 2025-12-24T00:00:00Z |
| endDate | Timestamp | 여행 종료일 | 2025-12-30T23:59:59Z |
| createdAt | Timestamp | 생성 일시 | 2025-07-20T10:00:00Z |

### 10.2. Plan (여행계획) 데이터 모델

| 필드명 | 데이터 타입 | 설명 | 예시 |
|---|---|---|---|
| planId | String | 고유 식별자 (Primary Key) | plan_67890 |
| tripId | String | 소속된 여행 식별자 (Foreign Key) | trip_12345 |
| day | Integer | 여행 N일차 | 2 |
| photos | Array<String> | 사진 이미지 URL 목록 | ["url1", "url2"] |
| youtubeLink | String (URL) | 유튜브 영상 링크 | https://youtu.be/... |
| startTime | Timestamp | 계획 시작 시간 | 2025-12-25T13:00:00Z |
| endTime | Timestamp | 계획 종료 시간 | 2025-12-25T15:00:00Z |
| type | Enum | 계획 유형 | 맛집 |
| placeName | String | 장소명 (사용자 입력/수정 가능) | "시부야 스카이" |
| memo | String | 사용자 메모 | "미리 예약 필수!" |
| **Google Place Data** | | | |
| googlePlaceId | String | Google Place ID | ChIJ... |
| address | String | 주소 | "일본 도쿄도 시부야구..." |
| latitude | Number | 위도 | 35.6590 |
| longitude | Number | 경도 | 139.7023 |
| openingHours | String | 영업시간 텍스트 | "10:00-22:30" |
| website | String (URL) | 장소 웹사이트 | https://www.shibuya-scramble-square.com |
| priceLevel | Integer | 가격 수준 (0~4) | 3 |
| rating | Number | 평점 | 4.6 |
| createdAt | Timestamp | 생성 일시 | 2025-07-20T11:30:00Z |

---

**문서 버전**: v1.0  
**최종 업데이트**: 2024년 12월  
**작성자**: Moonwave Travel 개발팀