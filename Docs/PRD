# PRD â€“ Moonwave Travel v3.0
> "ê°€ì§œ íë¦„ì´ ì•„ë‹Œ, ì‹¤ì œ íë¦„ìœ¼ë¡œ ì„¤ê³„í•œë‹¤" - Moonwave ì—¬í–‰ í”Œë˜ë‹ ì‹œìŠ¤í…œ

## ğŸ“‹ 1. ì„œë¹„ìŠ¤ ê°œìš”

### 1.1 ì œí’ˆëª…
**í”„ë¡œì íŠ¸ëª…**: Moonwave Travel  
**ì˜ë¬¸ëª…**: Moonwave Travel Planner  
**ë„ë©”ì¸**: travel.moonwave.kr

### 1.2 ì œí’ˆ ë¹„ì „ (Vision Statement)
**"ì—¬í–‰ ê³„íšì˜ ë³µì¡í•¨ì„ ì§ê´€ì  íë¦„ìœ¼ë¡œ ë³€í™”ì‹œì¼œ, ëª¨ë“  ì—¬í–‰ìê°€ ìì‹ ë§Œì˜ ìŠ¤í† ë¦¬ë¥¼ ì•„ë¦„ë‹µê²Œ ì„¤ê³„í•  ìˆ˜ ìˆë„ë¡ ë•ëŠ”ë‹¤"**

### 1.3 ì œí’ˆ ë¯¸ì…˜ (Mission Statement)
ì—¬í–‰ì¼ì •ì¹´ë“œì™€ Dayë³„ ì—¬í–‰ê³„íšì¹´ë“œ ê¸°ë°˜ìœ¼ë¡œ **Pretendard í•œê¸€ ìµœì í™” íƒ€ì´í¬ê·¸ë˜í”¼**ì™€ **Container Queries ë°˜ì‘í˜• ì‹œìŠ¤í…œ**ì„ í™œìš©í•´ ì§ê´€ì ì´ê³  ì•„ë¦„ë‹¤ìš´ ì—¬í–‰ ê³„íš ê²½í—˜ì„ ì œê³µí•©ë‹ˆë‹¤.

### 1.4 í•µì‹¬ íŠ¹ì§•
- **Moonwave Design System**: Utility-First + Pretendard í°íŠ¸ + Container Queries
- **ì‹¤ì‹œê°„ ë°ì´í„° ë™ê¸°í™”**: Supabase Realtime ê¸°ë°˜
- **í•œê¸€ ì—¬í–‰ì§€ ìµœì í™”**: í•œêµ­ì–´ ì—¬í–‰ì§€ëª…ì— íŠ¹í™”ëœ íƒ€ì´í¬ê·¸ë˜í”¼
- **GitHub ì§ì ‘ ë°°í¬**: travel.moonwave.kr ìë™ ë°°í¬

---

## ğŸ¯ 2. ëª©í‘œ ë° ë¹„ì „

### 2.1 í•´ê²°í•˜ê³ ì í•˜ëŠ” ë¬¸ì œ
1. **Primary Problem**: ì—¬í–‰ ê³„íš ë„êµ¬ì˜ ë³µì¡í•œ ì¸í„°í˜ì´ìŠ¤ì™€ í•œê¸€ ì—¬í–‰ì§€ëª… ê°€ë…ì„± ë¬¸ì œ (78% ì‚¬ìš©ì)
2. **Secondary Problem**: ëª¨ë°”ì¼ì—ì„œ ë¶ˆí¸í•œ ì—¬í–‰ ì¼ì • ê´€ë¦¬ (65% ì‚¬ìš©ì)  
3. **Tertiary Problem**: ì§€ë„ì™€ ì¼ì • ì •ë³´ì˜ ë¶„ë¦¬ëœ ê²½í—˜ (52% ì‚¬ìš©ì)

### 2.2 íƒ€ê²Ÿ ì‚¬ìš©ì
**Primary User**: 25-40ì„¸ ì—¬í–‰ ì• í˜¸ê°€, ì²´ê³„ì  ê³„íš ì„ í˜¸, ëª¨ë°”ì¼ ì¤‘ì‹¬ ì‚¬ìš©  
**Secondary User**: 20-35ì„¸ ì»¤í”Œ/ì¹œêµ¬ ê·¸ë£¹, ê³µìœ  ì¼ì • ê´€ë¦¬ í•„ìš”  
**Persona**: "ì•„ë¦„ë‹¤ìš´ ì—¬í–‰ ê¸°ë¡ì„ ë‚¨ê¸°ê³  ì‹¶ì§€ë§Œ ë³µì¡í•œ ë„êµ¬ëŠ” ì‹«ì–´í•˜ëŠ” ë°€ë ˆë‹ˆì–¼"

### 2.3 Moonwave ì°¨ë³„í™” ìš”ì†Œ
- **í•œê¸€ ìµœì í™”**: Pretendard í°íŠ¸ë¡œ í•œêµ­ ì—¬í–‰ì§€ëª… ì™„ë²½ í‘œí˜„
- **Container ê¸°ë°˜ ë°˜ì‘í˜•**: ì—¬í–‰ì¹´ë“œê°€ ì»¨í…Œì´ë„ˆ í¬ê¸°ì— ë”°ë¼ ì§€ëŠ¥ì  ë°°ì¹˜
- **ì‹¤ì‹œê°„ ë™ê¸°í™”**: ì—¬í–‰ ë™ë°˜ì ê°„ ì‹¤ì‹œê°„ ì¼ì • ê³µìœ 
- **GitHub ë°°í¬**: ì•ˆì •ì ì´ê³  ë¹ ë¥¸ ì„œë¹„ìŠ¤ ì œê³µ

---

## ğŸš€ 3. í•µì‹¬ ê¸°ëŠ¥ ë° ìš”êµ¬ì‚¬í•­

### 3.1 MVP (Minimum Viable Product) ê¸°ëŠ¥

#### 3.1.1 ì—¬í–‰ì¼ì •ì¹´ë“œ ê´€ë¦¬
**ì‚¬ìš©ì ìŠ¤í† ë¦¬**: "ì‚¬ìš©ìëŠ” ìƒˆë¡œìš´ ì—¬í–‰ì„ ê³„íší•˜ê¸° ìœ„í•´ ì—¬í–‰ì¼ì •ì¹´ë“œë¥¼ ìƒì„±í•˜ê³  ê¸°ë³¸ ì •ë³´ë¥¼ ì„¤ì •í•  ìˆ˜ ìˆë‹¤"

**ìˆ˜ìš© ê¸°ì¤€**:
- [ ] ì—¬í–‰ ì œëª©, ëª©ì ì§€, ê¸°ê°„ ì„¤ì • (Pretendard í°íŠ¸ ì ìš©)
- [ ] Container Queries ê¸°ë°˜ ì¹´ë“œ ë ˆì´ì•„ì›ƒ (@container í™œìš©)
- [ ] ì‹¤ì‹œê°„ ë°ì´í„° ì €ì¥ (Supabase Realtime)
- [ ] ì—¬í–‰ì¹´ë“œ ë¦¬ìŠ¤íŠ¸ ë·° (ê·¸ë¦¬ë“œ ë°˜ì‘í˜•)

**ê¸°ìˆ  êµ¬í˜„**:
- Supabase í…Œì´ë¸”: `travel_plans`
- React ì»´í¬ë„ŒíŠ¸: `TravelCard`, `CreateTravelForm`
- í›…: `useTravelPlans`, `useRealTimeSync`

#### 3.1.2 Dayë³„ ì—¬í–‰ê³„íšì¹´ë“œ ì‹œìŠ¤í…œ
**ì‚¬ìš©ì ìŠ¤í† ë¦¬**: "ì‚¬ìš©ìëŠ” Dayë³„ë¡œ êµ¬ì²´ì ì¸ ì—¬í–‰ ê³„íšì„ ì¹´ë“œ í˜•íƒœë¡œ ì¶”ê°€í•˜ê³  ê´€ë¦¬í•  ìˆ˜ ìˆë‹¤"

**ìˆ˜ìš© ê¸°ì¤€**:
- [ ] Dayë³„ ìë™ ìƒì„± ë° ìˆœì„œ ê´€ë¦¬
- [ ] ì¥ì†Œ, ì‹œê°„, ì‚¬ì§„, ë©”ëª¨ ì…ë ¥ (í•œê¸€ ìµœì í™” ì…ë ¥ í•„ë“œ)
- [ ] Google Places API ìë™ ì™„ì„±
- [ ] ì—¬í–‰ ìœ í˜•ë³„ Badge ì»´í¬ë„ŒíŠ¸ (Moonwave ì»¬ëŸ¬ ì‹œìŠ¤í…œ)

**ê¸°ìˆ  êµ¬í˜„**:
- Supabase í…Œì´ë¸”: `travel_days`, `day_plans`
- React ì»´í¬ë„ŒíŠ¸: `DayPlanCard`, `PlaceSearch`, `PlanBadge`
- í›…: `useDayPlans`, `useGooglePlaces`

#### 3.1.3 ì§€ë„ í†µí•© ì‹œê°í™”
**ì‚¬ìš©ì ìŠ¤í† ë¦¬**: "ì‚¬ìš©ìëŠ” ì „ì²´ ì—¬í–‰ ì¼ì •ì„ ì§€ë„ì—ì„œ í•œëˆˆì— í™•ì¸í•˜ê³  ê° ê³„íšì˜ ì„¸ë¶€ì‚¬í•­ì— ë°”ë¡œ ì ‘ê·¼í•  ìˆ˜ ìˆë‹¤"

**ìˆ˜ìš© ê¸°ì¤€**:
- [ ] Google Maps í†µí•© (ë§ˆì»¤, ê²½ë¡œ í‘œì‹œ)
- [ ] Container Queries ê¸°ë°˜ ì§€ë„ ë ˆì´ì•„ì›ƒ
- [ ] ëª¨ë°”ì¼ ìµœì í™” BottomSheet
- [ ] ê³„íš ì¹´ë“œ ì—°ë™ (í´ë¦­ ì‹œ ìƒì„¸ ì •ë³´)

**ê¸°ìˆ  êµ¬í˜„**:
- Google Maps JavaScript API
- ì»´í¬ë„ŒíŠ¸: `MapView`, `PlanMarker`, `BottomSheet`
- í›…: `useMapIntegration`

### 3.2 v1.1 í™•ì¥ ê¸°ëŠ¥ (MVP ì´í›„)

#### 3.2.1 ì—¬í–‰ íšŒê³  ë° ê¸°ë¡ ê°•í™”
- ì—¬í–‰ ì™„ë£Œ í›„ ì‚¬ì§„/ë©”ëª¨ ê¸°ë°˜ íšŒê³  ê¸°ëŠ¥
- SNS ìŠ¤íƒ€ì¼ ì—¬í–‰ ìŠ¤í† ë¦¬ ìƒì„±
- PDF/ì´ë¯¸ì§€ í˜•íƒœ ì—¬í–‰ ì•¨ë²” ë‚´ë³´ë‚´ê¸°

#### 3.2.2 ì‹¤ì‹œê°„ í˜‘ì—… ê¸°ëŠ¥
- ì—¬í–‰ ë™ë°˜ì ì´ˆëŒ€ ë° ê³µìœ  í¸ì§‘
- ì‹¤ì‹œê°„ ëŒ“ê¸€ ë° ì œì•ˆ ì‹œìŠ¤í…œ
- ì—­í• ë³„ ê¶Œí•œ ê´€ë¦¬ (í¸ì§‘ì/ë·°ì–´)

### 3.3 v1.2+ ì¥ê¸° ë¡œë“œë§µ
- AI ê¸°ë°˜ ì—¬í–‰ ì¶”ì²œ (GPT API ì—°ë™)
- ì—¬í–‰ ì˜ˆì‚° ê´€ë¦¬ í†µí•©
- í•­ê³µ/ìˆ™ë°• ì˜ˆì•½ ì—°ë™

---

## ğŸ¨ 4. Moonwave ë””ìì¸ ì‹œìŠ¤í…œ ìš”êµ¬ì‚¬í•­

### 4.1 ë””ìì¸ ì² í•™ (Moonwave í‘œì¤€)
- **Utility-First**: Tailwind CSS ê¸°ë°˜ ì»´í¬ë„ŒíŠ¸ ì„¤ê³„
- **Korean Typography**: Pretendard í°íŠ¸ í•œê¸€ ìµœì í™”
- **Container Responsive**: ì»¨í…Œì´ë„ˆ ê¸°ë°˜ ë°˜ì‘í˜• ë””ìì¸
- **Accessibility First**: ì ‘ê·¼ì„± ìš°ì„  ì„¤ê³„

### 4.2 Pretendard í°íŠ¸ ì‹œìŠ¤í…œ (ì—¬í–‰ íŠ¹í™”)

#### 4.2.1 ì—¬í–‰ì§€ëª… íƒ€ì´í¬ê·¸ë˜í”¼
```css
/* ì—¬í–‰ì§€ ì œëª© - ê°•ì¡° */
.destination-title {
  @apply font-pretendard font-bold text-2xl sm:text-3xl lg:text-4xl;
  @apply tracking-korean-tight break-keep-ko leading-tight;
  @apply text-gray-900 dark:text-white;
}

/* ì—¬í–‰ ê³„íš ì œëª© */
.plan-title {
  @apply font-pretendard font-semibold text-lg sm:text-xl;
  @apply tracking-korean-normal break-keep-ko;
  @apply text-gray-800 dark:text-gray-100;
}

/* ì¥ì†Œëª… í‘œì‹œ */
.place-name {
  @apply font-pretendard font-medium text-base;
  @apply tracking-korean-normal break-keep-ko;
  @apply text-gray-900 dark:text-white;
}

/* ì—¬í–‰ ë©”ëª¨ */
.travel-note {
  @apply font-pretendard font-normal text-sm lg:text-base;
  @apply tracking-korean-normal break-keep-ko leading-relaxed;
  @apply text-gray-700 dark:text-gray-300;
}
```

#### 4.2.2 ìˆ«ì ìµœì í™” (ë‚ ì§œ, ì‹œê°„)
```css
/* ë‚ ì§œ í‘œì‹œ */
.travel-date {
  @apply font-pretendard text-numeric tabular-nums font-medium;
  @apply text-blue-600 dark:text-blue-400;
}

/* ì‹œê°„ í‘œì‹œ */
.travel-time {
  @apply font-pretendard text-numeric tabular-nums font-normal;
  @apply text-gray-600 dark:text-gray-400;
}
```

### 4.3 Moonwave ë¸Œëœë“œ ì»¬ëŸ¬ (ì—¬í–‰ í…Œë§ˆ)
```css
/* Primary Colors - ì—¬í–‰ì˜ ììœ ë¡œì›€ */
--travel-blue-50: #eff6ff;
--travel-blue-500: #3b82f6;  /* ë©”ì¸ ë¸Œëœë“œ ì»¬ëŸ¬ */
--travel-blue-600: #2563eb;  /* ì•¡ì…˜ ë²„íŠ¼ */
--travel-blue-900: #1e3a8a;  /* ê°•ì¡° í…ìŠ¤íŠ¸ */

/* Secondary Colors - ì—¬í–‰ì˜ ë‹¤ì–‘ì„± */
--travel-purple-500: #8b5cf6; /* ê³„íš ì¹´í…Œê³ ë¦¬ */
--travel-green-500: #10b981;  /* ì™„ë£Œëœ ì—¬í–‰ */
--travel-amber-500: #f59e0b;  /* ì§„í–‰ ì¤‘ ì—¬í–‰ */

/* Semantic Colors */
--success-travel: #10b981;    /* ì„±ê³µì ì¸ ê³„íš ì €ì¥ */
--warning-travel: #f59e0b;    /* ì£¼ì˜ì‚¬í•­ ì•Œë¦¼ */
--error-travel: #ef4444;      /* ì˜¤ë¥˜ ìƒíƒœ */
```

### 4.4 Container Queries ë°˜ì‘í˜• ì‹œìŠ¤í…œ

#### 4.4.1 ì—¬í–‰ì¹´ë“œ ì»¨í…Œì´ë„ˆ íŒ¨í„´
```tsx
// ì—¬í–‰ ì¼ì • ì¹´ë“œ - Container Queries ì ìš©
<div className="@container/travel-card bg-white rounded-xl shadow-soft p-4 @md/travel-card:p-6">
  <div className="@lg/travel-card:flex-row flex flex-col @lg/travel-card:items-center @lg/travel-card:justify-between">
    {/* ì—¬í–‰ ì •ë³´ */}
    <div className="@lg/travel-card:flex-1 min-w-0">
      <h3 className="font-pretendard font-bold text-lg @lg/travel-card:text-xl text-gray-900 mb-2">
        {destination}
      </h3>
      <p className="font-pretendard text-sm @lg/travel-card:text-base text-gray-600 mb-3 @lg/travel-card:mb-0">
        {duration} â€¢ {companion}
      </p>
    </div>
    
    {/* ì•¡ì…˜ ë²„íŠ¼ */}
    <div className="@lg/travel-card:ml-6 flex gap-2">
      <button className="@md/travel-card:px-4 px-3 @md/travel-card:py-2 py-1.5 text-sm bg-blue-600 text-white rounded-md">
        <span className="@lg/travel-card:inline hidden">ì—¬í–‰ </span>ê³„íš ë³´ê¸°
      </button>
    </div>
  </div>
</div>
```

#### 4.4.2 Dayë³„ ê³„íš ì¹´ë“œ íŒ¨í„´
```tsx
// Dayë³„ ê³„íš ì¹´ë“œ - ì»¨í…Œì´ë„ˆ í¬ê¸°ì— ë”°ë¥¸ ì ì‘í˜• ë ˆì´ì•„ì›ƒ
<div className="@container/day-plan space-y-4">
  <div className="@md/day-plan:grid @md/day-plan:grid-cols-2 @lg/day-plan:grid-cols-3 @md/day-plan:gap-4 space-y-4 @md/day-plan:space-y-0">
    {dayPlans.map((plan) => (
      <div key={plan.id} className="@container/plan-card bg-white rounded-lg p-4 shadow-sm border">
        <div className="@sm/plan-card:flex @sm/plan-card:items-start @sm/plan-card:gap-3">
          {/* ì‹œê°„ í‘œì‹œ */}
          <div className="@sm/plan-card:flex-shrink-0 mb-2 @sm/plan-card:mb-0">
            <span className="font-pretendard text-numeric font-medium text-blue-600">
              {plan.time}
            </span>
          </div>
          
          {/* ê³„íš ë‚´ìš© */}
          <div className="@sm/plan-card:flex-1 min-w-0">
            <h4 className="font-pretendard font-medium @sm/plan-card:text-base text-sm text-gray-900 mb-1">
              {plan.place}
            </h4>
            <p className="font-pretendard text-xs @sm/plan-card:text-sm text-gray-600 break-keep-ko">
              {plan.note}
            </p>
          </div>
        </div>
      </div>
    ))}
  </div>
</div>
```

### 4.5 ì—¬í–‰ íŠ¹í™” ì»´í¬ë„ŒíŠ¸ ì‹œìŠ¤í…œ

#### 4.5.1 ì—¬í–‰ Badge ì‹œìŠ¤í…œ
```tsx
// ì—¬í–‰ ìœ í˜•ë³„ Badge ì»´í¬ë„ŒíŠ¸
const TravelBadge = ({ type, className }: Props) => {
  const badgeStyles = {
    sightseeing: 'bg-blue-100 text-blue-800 border-blue-200',
    dining: 'bg-amber-100 text-amber-800 border-amber-200',
    shopping: 'bg-purple-100 text-purple-800 border-purple-200',
    transportation: 'bg-gray-100 text-gray-800 border-gray-200',
    accommodation: 'bg-green-100 text-green-800 border-green-200'
  };
  
  return (
    <span className={cn(
      'font-pretendard font-medium px-2.5 py-0.5 rounded-full text-xs border',
      'tracking-korean-wide',
      badgeStyles[type],
      className
    )}>
      {type === 'sightseeing' && 'ê´€ê´‘'}
      {type === 'dining' && 'ì‹ë‹¹'}
      {type === 'shopping' && 'ì‡¼í•‘'}
      {type === 'transportation' && 'ì´ë™'}
      {type === 'accommodation' && 'ìˆ™ë°•'}
    </span>
  );
};
```

#### 4.5.2 ì§€ë„ í†µí•© ë ˆì´ì•„ì›ƒ
```tsx
// ì§€ë„ + ê³„íš ë¦¬ìŠ¤íŠ¸ í†µí•© ë·° (Container Queries)
<div className="@container/map-layout h-screen flex flex-col">
  {/* ì§€ë„ ì˜ì—­ */}
  <div className="@lg/map-layout:flex-1 @lg/map-layout:min-h-0 h-1/2 relative">
    <GoogleMapComponent />
  </div>
  
  {/* ê³„íš ë¦¬ìŠ¤íŠ¸ ì˜ì—­ */}
  <div className="@lg/map-layout:w-96 @lg/map-layout:border-l @lg/map-layout:border-gray-200 
                @lg/map-layout:h-full @lg/map-layout:overflow-y-auto 
                h-1/2 border-t border-gray-200 overflow-y-auto bg-white">
    <div className="@md/map-layout:p-6 p-4">
      <h3 className="font-pretendard font-bold text-lg mb-4">ì—¬í–‰ ê³„íš</h3>
      <PlanList />
    </div>
  </div>
</div>
```

---

## ğŸ›  5. ê¸°ìˆ  ìš”êµ¬ì‚¬í•­ (Moonwave í‘œì¤€)

### 5.1 í•„ìˆ˜ ê¸°ìˆ  ìŠ¤íƒ

#### 5.1.1 Frontend (Moonwave í‘œì¤€)
- **Framework**: React 18 + TypeScript 5 (Phase 1) â†’ Next.js Static Export (Phase 2)
- **Styling**: Tailwind CSS + Container Queries + Pretendard í°íŠ¸
- **State Management**: React Context + Custom Hooks + Zustand
- **Build Tool**: Vite (Phase 1) â†’ Next.js (Phase 2)
- **Maps**: Google Maps JavaScript API + React Google Maps

#### 5.1.2 Backend (Moonwave í‘œì¤€)
- **Database**: Supabase PostgreSQL
- **Authentication**: Supabase Auth (Magic Link + OAuth)
- **Real-time**: Supabase Realtime
- **Storage**: Supabase Storage (ì—¬í–‰ ì‚¬ì§„)
- **External API**: Google Places API, Google Maps Geocoding API

#### 5.1.3 Infrastructure (Moonwave í‘œì¤€)
- **Hosting**: Vercel (ë™ì  ê¸°ëŠ¥ ì§€ì›)
- **CI/CD**: GitHub Actions
- **Domain**: travel.moonwave.kr
- **Environment**: Production Only (localhost ê°œë°œ ê¸ˆì§€)

### 5.2 Moonwave ê°œë°œ ì •ì±… (í•„ìˆ˜ ì¤€ìˆ˜)

#### 5.2.1 ê¸ˆì§€ ì‚¬í•­
```typescript
const FORBIDDEN_PRACTICES = {
  localhost_development: "localhost:3000, npm run dev ë“± ë¡œì»¬ ì„œë²„ ì‹¤í–‰ ì™„ì „ ê¸ˆì§€",
  mock_data_usage: [
    "const mockTravelPlans = [...]",
    "const dummyDestinations = [...]", 
    "/public/travel-data.json",
    "hardcoded travel arrays"
  ],
  development_shortcuts: [
    "if (process.env.NODE_ENV === 'development') useMockData()",
    "const data = isDev ? mockTravel : realTravel"
  ]
} as const;
```

#### 5.2.2 í•„ìˆ˜ ì‹¤í–‰ ì‚¬í•­
```typescript
const REQUIRED_PRACTICES = {
  github_direct_access: "Cursor AI â†’ GitHub Repository ì§ì ‘ ì ‘ì†",
  real_database_only: "í”„ë¡œì íŠ¸ ì‹œì‘ê³¼ ë™ì‹œì— Supabase ì—¬í–‰ DB ì—°ë™",
  deployment_automation: "GitHub Actions â†’ travel.moonwave.kr ìë™ ë°°í¬",
  pretendard_optimization: "ëª¨ë“  í…ìŠ¤íŠ¸ì— Pretendard í•œê¸€ ìµœì í™” ì ìš©"
} as const;
```

### 5.3 ë°ì´í„°ë² ì´ìŠ¤ ì„¤ê³„ (Supabase)

#### 5.3.1 ì—¬í–‰ ê´€ë ¨ í…Œì´ë¸” ìŠ¤í‚¤ë§ˆ
```sql
-- ì—¬í–‰ ì¼ì • í…Œì´ë¸”
CREATE TABLE travel_plans (
  id UUID DEFAULT gen_random_uuid() PRIMARY KEY,
  user_id UUID REFERENCES auth.users(id) ON DELETE CASCADE NOT NULL,
  title TEXT NOT NULL,
  destination TEXT NOT NULL,
  start_date DATE NOT NULL,
  end_date DATE NOT NULL,
  description TEXT,
  cover_image_url TEXT,
  is_public BOOLEAN DEFAULT FALSE,
  status TEXT DEFAULT 'planning', -- planning, ongoing, completed
  created_at TIMESTAMP WITH TIME ZONE DEFAULT NOW(),
  updated_at TIMESTAMP WITH TIME ZONE DEFAULT NOW()
);

-- Dayë³„ ì—¬í–‰ ì¼ì í…Œì´ë¸”
CREATE TABLE travel_days (
  id UUID DEFAULT gen_random_uuid() PRIMARY KEY,
  travel_plan_id UUID REFERENCES travel_plans(id) ON DELETE CASCADE NOT NULL,
  day_number INTEGER NOT NULL,
  date DATE NOT NULL,
  title TEXT,
  created_at TIMESTAMP WITH TIME ZONE DEFAULT NOW(),
  UNIQUE(travel_plan_id, day_number)
);

-- Dayë³„ ê³„íš ì¹´ë“œ í…Œì´ë¸”
CREATE TABLE day_plans (
  id UUID DEFAULT gen_random_uuid() PRIMARY KEY,
  travel_day_id UUID REFERENCES travel_days(id) ON DELETE CASCADE NOT NULL,
  place_name TEXT NOT NULL,
  place_address TEXT,
  google_place_id TEXT,
  latitude DECIMAL(10, 8),
  longitude DECIMAL(11, 8),
  planned_time TIME,
  duration_minutes INTEGER,
  plan_type TEXT DEFAULT 'sightseeing', -- sightseeing, dining, shopping, transportation, accommodation
  notes TEXT,
  image_urls TEXT[], -- ë°°ì—´ í˜•íƒœë¡œ ì—¬ëŸ¬ ì´ë¯¸ì§€ ì €ì¥
  youtube_url TEXT,
  order_index INTEGER DEFAULT 0,
  created_at TIMESTAMP WITH TIME ZONE DEFAULT NOW(),
  updated_at TIMESTAMP WITH TIME ZONE DEFAULT NOW()
);

-- RLS ì •ì±… ì„¤ì •
ALTER TABLE travel_plans ENABLE ROW LEVEL SECURITY;
ALTER TABLE travel_days ENABLE ROW LEVEL SECURITY;
ALTER TABLE day_plans ENABLE ROW LEVEL SECURITY;

-- ì‚¬ìš©ìë³„ ë°ì´í„° ê²©ë¦¬
CREATE POLICY "Users can manage own travel plans" ON travel_plans
  FOR ALL USING (auth.uid() = user_id);

CREATE POLICY "Users can manage own travel days" ON travel_days
  FOR ALL USING (
    auth.uid() = (SELECT user_id FROM travel_plans WHERE id = travel_plan_id)
  );

CREATE POLICY "Users can manage own day plans" ON day_plans
  FOR ALL USING (
    auth.uid() = (SELECT tp.user_id FROM travel_plans tp 
                  JOIN travel_days td ON tp.id = td.travel_plan_id 
                  WHERE td.id = travel_day_id)
  );
```

### 5.4 ì‹¤ì‹œê°„ ë°ì´í„° ì—°ë™ (Mock ë°ì´í„° ì™„ì „ ëŒ€ì²´)

#### 5.4.1 ì—¬í–‰ ê³„íš ì‹¤ì‹œê°„ í›…
```typescript
// âœ… ë°˜ë“œì‹œ ì‚¬ìš©í•´ì•¼ í•  íŒ¨í„´ - ì‹¤ì œ Supabase ë°ì´í„°ë§Œ
export const useTravelPlans = () => {
  const { user, supabase } = useSupabase();
  const [travelPlans, setTravelPlans] = useState<TravelPlan[]>([]);
  const [loading, setLoading] = useState(true);
  const [error, setError] = useState<string | null>(null);

  const fetchTravelPlans = useCallback(async () => {
    if (!user) {
      setTravelPlans([]);
      setLoading(false);
      return;
    }

    setLoading(true);
    setError(null);

    try {
      const { data, error } = await supabase
        .from('travel_plans')
        .select(`
          *,
          travel_days (
            *,
            day_plans (*)
          )
        `)
        .eq('user_id', user.id)
        .order('created_at', { ascending: false });

      if (error) throw error;
      setTravelPlans(data || []);
    } catch (err) {
      const errorMessage = err instanceof Error ? err.message : 'ì—¬í–‰ ë°ì´í„° ë¡œë”© ì‹¤íŒ¨';
      setError(errorMessage);
      console.error('ì—¬í–‰ ê³„íš ë¡œë”© ì‹¤íŒ¨:', err);
    } finally {
      setLoading(false);
    }
  }, [user, supabase]);

  // ì‹¤ì‹œê°„ êµ¬ë…
  useEffect(() => {
    if (!user) return;

    fetchTravelPlans();

    const subscription = supabase
      .channel('travel_plans_realtime')
      .on('postgres_changes', 
        { 
          event: '*', 
          schema: 'public', 
          table: 'travel_plans',
          filter: `user_id=eq.${user.id}`
        },
        (payload) => {
          console.log('ì—¬í–‰ ê³„íš ì‹¤ì‹œê°„ ë³€ê²½:', payload);
          fetchTravelPlans();
        }
      )
      .subscribe();

    return () => {
      subscription.unsubscribe();
    };
  }, [fetchTravelPlans, user, supabase]);

  return {
    travelPlans,
    loading,
    error,
    refetch: fetchTravelPlans
  };
};
```

---

## ğŸ“Š 6. ë¹„ì¦ˆë‹ˆìŠ¤ ìš”êµ¬ì‚¬í•­ ë° ì„±ê³µ ì§€í‘œ

### 6.1 ë¹„ì¦ˆë‹ˆìŠ¤ ëª©í‘œ

#### 6.1.1 ë‹¨ê¸° ëª©í‘œ (3ê°œì›”)
- **ì›” í™œì„± ì‚¬ìš©ì**: 1,000ëª… ë‹¬ì„±
- **ì‚¬ìš©ìë‹¹ í‰ê·  ì—¬í–‰ ê³„íš**: 3ê°œ ë“±ë¡
- **ì¼ í‰ê·  ì„¸ì…˜ ì‹œê°„**: 8ë¶„
- **Pretendard í°íŠ¸ ë§Œì¡±ë„**: 85% ì´ìƒ

#### 6.1.2 ì¤‘ê¸° ëª©í‘œ (6ê°œì›”)
- **ì›” í™œì„± ì‚¬ìš©ì**: 5,000ëª… ë‹¬ì„±
- **ì—¬í–‰ ì™„ë£Œìœ¨**: 70% (ê³„íš ëŒ€ë¹„ ì‹¤ì œ ì‹¤í–‰)
- **ì»¨í…Œì´ë„ˆ ë°˜ì‘í˜• ë§Œì¡±ë„**: 90% ì´ìƒ
- **í‰ê·  í˜ì´ì§€ ë¡œë”© ì‹œê°„**: 2ì´ˆ ì´í•˜

#### 6.1.3 ì¥ê¸° ëª©í‘œ (1ë…„)
- **ì›” í™œì„± ì‚¬ìš©ì**: 10,000ëª… ë‹¬ì„±
- **ì—¬í–‰ ê³µìœ  ê¸°ëŠ¥ ì‚¬ìš©ë¥ **: 60%
- **ëª¨ë°”ì¼ ì‚¬ìš©ë¥ **: 80% ì´ìƒ

### 6.2 í•µì‹¬ ì„±ê³¼ ì§€í‘œ (KPI)

#### 6.2.1 ì‚¬ìš©ì ì°¸ì—¬ ì§€í‘œ
- **ì›” í™œì„± ì‚¬ìš©ì (MAU)**: 1,000ëª… (3ê°œì›” ë‚´)
- **ì¼ í™œì„± ì‚¬ìš©ì (DAU)**: 200ëª… (3ê°œì›” ë‚´)  
- **ì‚¬ìš©ì ìœ ì§€ìœ¨**: 60% (7ì¼), 40% (30ì¼)
- **í‰ê·  ì„¸ì…˜ ì‹œê°„**: 8ë¶„

#### 6.2.2 ê¸°ëŠ¥ ì‚¬ìš© ì§€í‘œ
- **ì—¬í–‰ ê³„íš ìƒì„±ë¥ **: 85% (ê°€ì… í›„ ì²« ì—¬í–‰ ê³„íš ìƒì„±)
- **Dayë³„ ê³„íš ë“±ë¡ë¥ **: 70% (ì—¬í–‰ ê³„íšë‹¹ í‰ê·  5ì¼)
- **ì§€ë„ ê¸°ëŠ¥ ì‚¬ìš©ë¥ **: 60% (ê³„íš í™•ì¸ ì‹œ ì§€ë„ ë·° ì ‘ê·¼)
- **ì‚¬ì§„ ì—…ë¡œë“œë¥ **: 50% (ê³„íšë‹¹ í‰ê·  3ì¥)

#### 6.2.3 UI/UX ì„±ê³¼ ì§€í‘œ
- **Pretendard í°íŠ¸ ê°€ë…ì„± ë§Œì¡±ë„**: 85% ì´ìƒ
- **Container Queries ë°˜ì‘í˜• ë§Œì¡±ë„**: 90% ì´ìƒ
- **ëª¨ë°”ì¼ ì‚¬ìš©ì„± ì ìˆ˜**: 4.5/5.0 ì´ìƒ
- **ì²« ì—¬í–‰ ê³„íš ìƒì„± ì‹œê°„**: 5ë¶„ ì´ë‚´

### 6.3 ì„±ê³µ ì§€í‘œ ëª¨ë‹ˆí„°ë§

#### 6.3.1 Core Web Vitals (Moonwave í‘œì¤€)
- **LCP (Largest Contentful Paint)**: < 2.5ì´ˆ
- **FID (First Input Delay)**: < 100ms
- **CLS (Cumulative Layout Shift)**: < 0.1
- **ë²ˆë“¤ í¬ê¸°**: < 500KB (gzipped)

#### 6.3.2 í•œê¸€ íƒ€ì´í¬ê·¸ë˜í”¼ ì„±ëŠ¥
- **Pretendard í°íŠ¸ ë¡œë”© ì‹œê°„**: < 500ms
- **í•œê¸€ ì—¬í–‰ì§€ëª… ë Œë”ë§ í’ˆì§ˆ**: 100% (ì•ˆí‹°ì•¨ë¦¬ì–´ì‹±)
- **ì¤„ë°”ê¿ˆ ìµœì í™” ì ìš©ë¥ **: 100% (break-keep-ko)

---

## âœ… 7. ì •ì˜ ì™„ë£Œ ê¸°ì¤€ (Definition of Done)

### 7.1 ê¸°ëŠ¥ ê°œë°œ ì™„ë£Œ ê¸°ì¤€

#### 7.1.1 Moonwave í‘œì¤€ ì¤€ìˆ˜
- [ ] **Pretendard í°íŠ¸**: ëª¨ë“  í…ìŠ¤íŠ¸ ìš”ì†Œì— font-pretendard í´ë˜ìŠ¤ ì ìš©
- [ ] **í•œê¸€ ìµœì í™”**: tracking-korean-normal, break-keep-ko í´ë˜ìŠ¤ ì ìš©
- [ ] **Container Queries**: @container ê¸°ë°˜ ë°˜ì‘í˜• ë ˆì´ì•„ì›ƒ êµ¬í˜„
- [ ] **antialiased**: í°íŠ¸ ë Œë”ë§ ìµœì í™” ì ìš©

#### 7.1.2 ê¸°ëŠ¥ ê²€ì¦
- [ ] **ì‹¤ì œ Supabase ë°ì´í„° ì—°ë™**: Mock ë°ì´í„° ì‚¬ìš© ê¸ˆì§€ í™•ì¸
- [ ] **ì‹¤ì‹œê°„ ë™ê¸°í™”**: Supabase Realtime ì‘ë™ í™•ì¸
- [ ] **Google Maps í†µí•©**: ì¥ì†Œ ê²€ìƒ‰ ë° ë§ˆì»¤ í‘œì‹œ ì •ìƒ ì‘ë™
- [ ] **ì—¬í–‰ CRUD**: ìƒì„±/ìˆ˜ì •/ì‚­ì œ/ì¡°íšŒ ëª¨ë“  ê¸°ëŠ¥ ì •ìƒ ì‘ë™

#### 7.1.3 ì½”ë“œ í’ˆì§ˆ
- [ ] **TypeScript strict ëª¨ë“œ**: íƒ€ì… ì—ëŸ¬ 0ê°œ
- [ ] **ESLint ê²€ì‚¬**: ë¦°íŠ¸ ì—ëŸ¬ 0ê°œ
- [ ] **ì ‘ê·¼ì„±**: ARIA ë ˆì´ë¸”, í‚¤ë³´ë“œ ë‚´ë¹„ê²Œì´ì…˜ ì§€ì›
- [ ] **ì—ëŸ¬ ì²˜ë¦¬**: ë„¤íŠ¸ì›Œí¬/DB ì—ëŸ¬ ìƒí™© ëŒ€ì‘

### 7.2 ë°°í¬ ê²€ì¦ (Moonwave í‘œì¤€)

#### 7.2.1 GitHub Actions ë°°í¬
- [ ] **ìë™ ë°°í¬**: main ë¸Œëœì¹˜ push ì‹œ ìë™ ë°°í¬ ì„±ê³µ
- [ ] **ë„ë©”ì¸ ì ‘ì†**: travel.moonwave.kr ì •ìƒ ì ‘ì† í™•ì¸
- [ ] **í™˜ê²½ ë³€ìˆ˜**: Supabase ì—°ê²° ì •ë³´ ì •ìƒ ì„¤ì •
- [ ] **ë¹Œë“œ ìµœì í™”**: ë²ˆë“¤ í¬ê¸° 500KB ì´í•˜

#### 7.2.2 ì„±ëŠ¥ ê²€ì¦
- [ ] **í˜ì´ì§€ ë¡œë”©**: ì´ˆê¸° ë¡œë”© 3ì´ˆ ì´í•˜
- [ ] **Core Web Vitals**: LCP < 2.5ì´ˆ, FID < 100ms, CLS < 0.1
- [ ] **Pretendard í°íŠ¸**: í°íŠ¸ ë¡œë”© 500ms ì´í•˜
- [ ] **ëª¨ë°”ì¼ ìµœì í™”**: iOS/Android ë¸Œë¼ìš°ì € ì •ìƒ ì‘ë™

### 7.3 ì‚¬ìš©ì ê²½í—˜ ê²€ì¦

#### 7.3.1 í•œê¸€ ì—¬í–‰ì§€ëª… ìµœì í™”
- [ ] **ê°€ë…ì„±**: í•œê¸€ ì—¬í–‰ì§€ëª… ì™„ë²½í•œ í‘œì‹œ
- [ ] **ì¤„ë°”ê¿ˆ**: break-keep-koë¡œ ìì—°ìŠ¤ëŸ¬ìš´ ì¤„ë°”ê¿ˆ
- [ ] **ìê°„**: tracking-korean-normalë¡œ ìµœì í™”ëœ ìê°„
- [ ] **í¬ë¡œìŠ¤ ë¸Œë¼ìš°ì €**: ëª¨ë“  ë¸Œë¼ìš°ì €ì—ì„œ ì¼ê´€ëœ í‘œì‹œ

#### 7.3.2 Container Queries ë°˜ì‘í˜•
- [ ] **ì¹´ë“œ ë ˆì´ì•„ì›ƒ**: ì»¨í…Œì´ë„ˆ í¬ê¸°ì— ë”°ë¥¸ ì§€ëŠ¥ì  ë°°ì¹˜
- [ ] **ì§€ë„ í†µí•©**: ë‹¤ì–‘í•œ í™”ë©´ í¬ê¸°ì—ì„œ ìµœì í™”ëœ ì§€ë„ ë·°
- [ ] **ëª¨ë°”ì¼ ìš°ì„ **: í„°ì¹˜ ì¹œí™”ì  ì¸í„°í˜ì´ìŠ¤
- [ ] **ë¶€ë“œëŸ¬ìš´ ì „í™˜**: ë ˆì´ì•„ì›ƒ ë³€ê²½ ì‹œ ìì—°ìŠ¤ëŸ¬ìš´ ì• ë‹ˆë©”ì´ì…˜

---

## ğŸ—“ 8. ê°œë°œ ë¡œë“œë§µ

### 8.1 Phase 1: Moonwave ê¸°ë°˜ MVP (ì™„ë£Œ ëª©í‘œ: 4ì£¼)

#### Week 1: í”„ë¡œì íŠ¸ ê¸°ë°˜ êµ¬ì¶•
- [ ] GitHub Repository ì„¤ì • (travel.moonwave.kr)
- [ ] Supabase í”„ë¡œì íŠ¸ ìƒì„± ë° ìŠ¤í‚¤ë§ˆ ì„¤ì •
- [ ] Pretendard í°íŠ¸ + Container Queries ê¸°ë³¸ ì„¤ì •
- [ ] GitHub Actions ë°°í¬ íŒŒì´í”„ë¼ì¸ êµ¬ì¶•

#### Week 2: í•µì‹¬ ì»´í¬ë„ŒíŠ¸ ê°œë°œ
- [ ] TravelCard ì»´í¬ë„ŒíŠ¸ (Container Queries ì ìš©)
- [ ] DayPlanCard ì»´í¬ë„ŒíŠ¸ (Pretendard ìµœì í™”)
- [ ] ì—¬í–‰ CRUD ê¸°ëŠ¥ (ì‹¤ì œ Supabase ì—°ë™)
- [ ] ì‹¤ì‹œê°„ ë°ì´í„° ë™ê¸°í™” êµ¬í˜„

#### Week 3: ì§€ë„ í†µí•© ë° ì¥ì†Œ ê²€ìƒ‰
- [ ] Google Maps í†µí•© (ë°˜ì‘í˜• ë ˆì´ì•„ì›ƒ)
- [ ] Google Places API ì—°ë™
- [ ] ì¥ì†Œ ìë™ì™„ì„± ë° ì •ë³´ ë§¤í•‘
- [ ] ëª¨ë°”ì¼ ìµœì í™” ì§€ë„ ì¸í„°í˜ì´ìŠ¤

#### Week 4: ìµœì í™” ë° ë¦´ë¦¬ì¦ˆ ì¤€ë¹„
- [ ] ì„±ëŠ¥ ìµœì í™” (Bundle size, Core Web Vitals)
- [ ] í•œê¸€ íƒ€ì´í¬ê·¸ë˜í”¼ ìµœì¢… ê²€ì¦
- [ ] ì‚¬ìš©ì í…ŒìŠ¤íŠ¸ ë° í”¼ë“œë°± ë°˜ì˜
- [ ] travel.moonwave.kr ê³µì‹ ëŸ°ì¹­

### 8.2 Phase 2: ê¸°ëŠ¥ ê°•í™” (ëª©í‘œ: 4ì£¼)

#### ê³ ë„í™” ê¸°ëŠ¥
- [ ] ì—¬í–‰ íšŒê³  ë° ìŠ¤í† ë¦¬ ìƒì„± ê¸°ëŠ¥
- [ ] ì‹¤ì‹œê°„ í˜‘ì—… í¸ì§‘ (Supabase Realtime í™•ì¥)
- [ ] ê³ ê¸‰ ì§€ë„ ê¸°ëŠ¥ (ê²½ë¡œ ìµœì í™”, ê±°ë¦¬ ê³„ì‚°)
- [ ] SNS ì—°ë™ ë° ì—¬í–‰ ê³µìœ 

#### UI/UX ê°œì„ 
- [ ] ì¶”ê°€ Container Queries íŒ¨í„´ ì ìš©
- [ ] ë§ˆì´í¬ë¡œ ì• ë‹ˆë©”ì´ì…˜ ê°•í™”
- [ ] ë‹¤í¬ëª¨ë“œ ì§€ì› (Pretendard ë‹¤í¬ëª¨ë“œ ìµœì í™”)
- [ ] ì ‘ê·¼ì„± ê°œì„ 

### 8.3 Phase 3: í™•ì¥ ê¸°ëŠ¥ (ëª©í‘œ: 6ì£¼)

#### ë¹„ì¦ˆë‹ˆìŠ¤ í™•ì¥
- [ ] ì—¬í–‰ ì˜ˆì‚° ê´€ë¦¬ í†µí•©
- [ ] AI ì¶”ì²œ ì‹œìŠ¤í…œ (GPT API)
- [ ] ì—¬í–‰ ì»¤ë®¤ë‹ˆí‹° ê¸°ëŠ¥
- [ ] íŒŒíŠ¸ë„ˆì‹­ ì—°ë™ (ìˆ™ë°•/í•­ê³µ)

#### ê¸°ìˆ ì  í™•ì¥
- [ ] Next.js ë§ˆì´ê·¸ë ˆì´ì…˜ ê³„íš
- [ ] PWA ì§€ì›
- [ ] ì˜¤í”„ë¼ì¸ ê¸°ëŠ¥
- [ ] ì„±ëŠ¥ ëª¨ë‹ˆí„°ë§ ê³ ë„í™”

---

**Moonwave Travel PRD v3.0**  
*"ê°€ì§œ íë¦„ì´ ì•„ë‹Œ, ì‹¤ì œ íë¦„ìœ¼ë¡œ ì„¤ê³„í•œë‹¤"*  
*Pretendard í•œê¸€ ìµœì í™” + Container Queries ê¸°ë°˜ í”„ë¦¬ë¯¸ì—„ ì—¬í–‰ ê³„íš ê²½í—˜*

---

### ğŸ“‹ ë¬¸ì„œ íˆìŠ¤í† ë¦¬
- **v1.0**: ì´ˆê¸° ìš”êµ¬ì‚¬í•­ ì •ì˜
- **v2.0**: Tailwind UI Toolkit ê¸°ë°˜ ë””ìì¸ ì‹œìŠ¤í…œ ë„ì…
- **v3.0**: **Moonwave ë””ìì¸ ì‹œìŠ¤í…œ í‘œì¤€ ì ìš©** (Pretendard + Container Queries + ì‹¤ì‹œê°„ DB ì—°ë™)
