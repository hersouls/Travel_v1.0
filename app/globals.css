@tailwind base;
@tailwind components;
@tailwind utilities;

/* Pretendard 폰트 최적화 */
@layer base {
  html {
    font-family: 'Pretendard Variable', 'Pretendard', -apple-system, BlinkMacSystemFont, system-ui, Roboto, 'Helvetica Neue', 'Segoe UI', 'Apple SD Gothic Neo', 'Noto Sans KR', 'Malgun Gothic', 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', sans-serif;
    -webkit-text-size-adjust: 100%;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
  }

  /* 한글 텍스트 최적화 */
  body {
    font-feature-settings: 'kern' 1, 'ss01' 1, 'ss02' 1;
    text-rendering: optimizeLegibility;
    word-break: keep-all;
    overflow-wrap: break-word;
  }

  /* 스크롤바 스타일링 */
  ::-webkit-scrollbar {
    width: 8px;
    height: 8px;
  }

  ::-webkit-scrollbar-track {
    background: transparent;
  }

  ::-webkit-scrollbar-thumb {
    background-color: rgba(0, 0, 0, 0.2);
    border-radius: 20px;
    border: 2px solid transparent;
    background-clip: content-box;
  }

  ::-webkit-scrollbar-thumb:hover {
    background-color: rgba(0, 0, 0, 0.3);
  }

  /* 다크모드 지원 */
  @media (prefers-color-scheme: dark) {
    ::-webkit-scrollbar-thumb {
      background-color: rgba(255, 255, 255, 0.2);
    }

    ::-webkit-scrollbar-thumb:hover {
      background-color: rgba(255, 255, 255, 0.3);
    }
  }
}

/* 커스텀 컴포넌트 스타일 */
@layer components {
  /* 카드 기본 스타일 */
  .card {
    @apply bg-white rounded-lg border border-gray-200 shadow-sm;
  }

  .card-hover {
    @apply transition-all duration-200 hover:shadow-md hover:border-gray-300;
  }

  /* 버튼 기본 스타일 */
  .btn {
    @apply inline-flex items-center justify-center rounded-lg text-sm font-medium transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed;
  }

  .btn-primary {
    @apply bg-primary-500 text-white hover:bg-primary-600 focus:ring-primary-500;
  }

  .btn-secondary {
    @apply bg-secondary-500 text-white hover:bg-secondary-600 focus:ring-secondary-500;
  }

  .btn-outline {
    @apply border border-gray-300 bg-white text-gray-700 hover:bg-gray-50 focus:ring-gray-500;
  }

  /* 입력 필드 기본 스타일 */
  .input {
    @apply block w-full rounded-lg border border-gray-300 px-3 py-2 text-sm placeholder-gray-400 transition-colors duration-200 focus:border-primary-500 focus:outline-none focus:ring-1 focus:ring-primary-500;
  }

  /* 애니메이션 유틸리티 */
  .animate-fade-in {
    @apply animate-fade-in;
  }

  .animate-slide-up {
    @apply animate-slide-up;
  }

  .animate-slide-down {
    @apply animate-slide-down;
  }
}

/* 유틸리티 클래스 */
@layer utilities {
  /* 한글 타이포그래피 */
  .text-korean-tight {
    letter-spacing: -0.025em;
  }

  .text-korean-normal {
    letter-spacing: 0em;
  }

  .text-korean-wide {
    letter-spacing: 0.025em;
  }

  /* 숫자 표시 최적화 */
  .text-numeric {
    font-variant-numeric: tabular-nums;
  }

  /* 줄바꿈 최적화 */
  .break-keep-ko {
    word-break: keep-all;
    overflow-wrap: break-word;
  }

  /* 모바일 터치 최적화 */
  .touch-manipulation {
    touch-action: manipulation;
  }

  /* Safe Area 대응 (모바일) */
  .safe-top {
    padding-top: env(safe-area-inset-top);
  }

  .safe-bottom {
    padding-bottom: env(safe-area-inset-bottom);
  }

  .safe-left {
    padding-left: env(safe-area-inset-left);
  }

  .safe-right {
    padding-right: env(safe-area-inset-right);
  }
}